/* Video Performance Optimizations */
.r2w-player-container {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

.r2w-player-container video {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
  /* Hardware acceleration */
  -webkit-transform: translateZ(0);
  -moz-transform: translateZ(0);
  -ms-transform: translateZ(0);
  -o-transform: translateZ(0);
  /* Smooth rendering */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  /* Reduce repaints */
  contain: layout style paint;
  /* Optimize compositing */
  isolation: isolate;
}

/* iOS 26 Glassy Minimal Button - works across all themes */
/* From Uiverse.io by MuhammadHasann */
.toggle-cont {
  --primary: #54a8fc;
  --light: #d9d9d9;
  --dark: #121212;
  --gray: #414344;

  position: relative;
  z-index: 10;

  width: fit-content;
  height: 50px;

  border-radius: 9999px;
}

.toggle-cont .toggle-input {
  display: none;
}

.toggle-cont .toggle-label {
  --gap: 5px;
  --width: 50px;

  cursor: pointer;

  position: relative;
  display: inline-block;

  padding: 0.5rem;
  width: calc((var(--width) + var(--gap)) * 2);
  height: 100%;
  background-color: var(--dark);

  border: 1px solid #777777;
  border-bottom: 0;

  border-radius: 9999px;
  box-sizing: content-box;
  transition: all 0.3s ease-in-out;
}
.toggle-label::before {
  content: "";

  position: absolute;
  z-index: -10;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  width: calc(100% + 1.5rem);
  height: calc(100% + 1.5rem);
  background-color: var(--gray);

  border: 1px solid #777777;
  border-bottom: 0;
  border-radius: 9999px;

  transition: all 0.3s ease-in-out;
}
.toggle-label::after {
  content: "";

  position: absolute;
  z-index: -10;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  width: 100%;
  height: 100%;
  background-image: radial-gradient(
    circle at 50% -100%,
    rgb(58, 155, 252) 0%,
    rgba(12, 12, 12, 1) 80%
  );

  border-radius: 9999px;
}

.toggle-cont .toggle-label .cont-icon {
  position: relative;

  display: flex;
  justify-content: center;
  align-items: center;

  position: relative;
  width: var(--width);
  height: 50px;
  background-image: radial-gradient(
    circle at 50% 0%,
    #666666 0%,
    var(--gray) 100%
  );

  border: 1px solid #aaaaaa;
  border-bottom: 0;
  border-radius: 9999px;
  box-shadow: inset 0 -0.15rem 0.15rem var(--primary),
    inset 0 0 0.5rem 0.75rem var(--second);

  transition: transform 0.3s ease-in-out;
}

.cont-icon {
  overflow: clip;
  position: relative;
}

.cont-icon .sparkle {
  position: absolute;
  top: 50%;
  left: 50%;

  display: block;

  width: calc(var(--width) * 1px);
  aspect-ratio: 1;
  background-color: var(--light);

  border-radius: 50%;
  transform-origin: 50% 50%;
  rotate: calc(1deg * var(--deg));
  transform: translate(-50%, -50%);
  animation: sparkle calc(100s / var(--duration)) linear
    calc(0s / var(--duration)) infinite;
}

@keyframes sparkle {
  to {
    width: calc(var(--width) * 0.5px);
    transform: translate(2000%, -50%);
  }
}

.cont-icon .icon {
  width: 1.1rem;
  fill: var(--light);
}

.toggle-cont:has(.toggle-input:checked) {
  --checked: true;
}

@container style(--checked: true) {
  .toggle-cont .toggle-label {
    background-color: #41434400;

    border: 1px solid #3d6970;
    border-bottom: 0;
  }

  .toggle-cont .toggle-label::before {
    box-shadow: 0 1rem 2.5rem -2rem #0080ff;
  }

  .toggle-cont .toggle-label .cont-icon {
    overflow: visible;

    background-image: radial-gradient(
      circle at 50% 0%,
      #045ab1 0%,
      var(--primary) 100%
    );

    border: 1px solid var(--primary);
    border-bottom: 0;

    transform: translateX(calc((var(--gap) * 2) + 100%)) rotate(-225deg);
  }

  .toggle-cont .toggle-label .cont-icon .sparkle {
    z-index: -10;

    width: calc(var(--width) * 1.5px);
    background-color: #acacac;

    animation: sparkle calc(100s / var(--duration)) linear
      calc(10s / var(--duration)) infinite;
  }

  @keyframes sparkle {
    to {
      width: calc(var(--width) * 1px);
      transform: translate(5000%, -50%);
    }
  }
}

.btn-minimal {
  position: relative;
  border-radius: 0.75rem;
  font-size: 0.95rem;
  font-weight: 500;
  text-align: center;
  cursor: pointer;
  isolation: isolate;

  /* iOS 26 glass effect using theme tokens */
  background: linear-gradient(
    145deg,
    color-mix(in oklch, var(--glass-tint), transparent 5%) 0%,
    color-mix(in oklch, var(--glass-tint-2), transparent 15%) 100%
  ) !important;

  /* Strong blur and saturation */
  -webkit-backdrop-filter: blur(32px) saturate(160%) brightness(1.08);
  backdrop-filter: blur(32px) saturate(160%) brightness(1.08);

  /* Adaptive border using theme glass tokens */
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 35%) !important;

  /* Multi-layer shadow for depth */
  box-shadow: 0 8px 24px
      color-mix(in oklch, var(--glass-shadow), transparent 30%),
    0 4px 12px color-mix(in oklch, var(--glass-shadow), transparent 50%),
    inset 0 1px 0 color-mix(in oklch, var(--glass-highlight), transparent 40%);

  /* Text inherits theme color */
  color: var(--panel-text) !important;

  transition: transform 120ms ease, box-shadow 140ms ease, background 140ms ease,
    border-color 140ms ease;
}

.btn-minimal:hover {
  background: linear-gradient(
    145deg,
    color-mix(in oklch, var(--glass-tint), transparent 0%) 0%,
    color-mix(in oklch, var(--glass-tint-2), transparent 10%) 100%
  ) !important;

  transform: translateY(-1px);

  box-shadow: 0 12px 32px
      color-mix(in oklch, var(--glass-shadow), transparent 25%),
    0 6px 16px color-mix(in oklch, var(--glass-shadow), transparent 45%),
    inset 0 1px 0 color-mix(in oklch, var(--glass-highlight), transparent 35%);

  border-color: color-mix(
    in oklch,
    var(--glass-border),
    transparent 25%
  ) !important;
}

.btn-minimal:active {
  transform: translateY(0);

  box-shadow: 0 4px 16px
      color-mix(in oklch, var(--glass-shadow), transparent 40%),
    0 2px 8px color-mix(in oklch, var(--glass-shadow), transparent 60%),
    inset 0 1px 0 color-mix(in oklch, var(--glass-highlight), transparent 50%);
}
/* From Uiverse.io by catraco — adapted to follow theme accent */
.cssbuttons-io-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.2em;
  font-family: inherit;
  font-weight: 600;
  font-size: 14px; /* slightly smaller */
  padding: 0.35em 1em; /* more compact */
  color: white;
  /* Use theme accent so button color follows current theme */
  background: linear-gradient(
    180deg,
    color-mix(in oklch, var(--tab-accent, var(--primary, #10b981)), white 18%),
    var(--tab-accent, var(--primary, #10b981))
  );
  border: none;
  outline: none;
  border-bottom: 2px solid
    color-mix(in oklch, var(--tab-accent, var(--primary, #0b6fb0)), black 12%);
  box-shadow: 0 0.35em 0.35em -0.28em rgba(0, 0, 0, 0.45);
  letter-spacing: 0.06em;
  border-radius: 999px;
  cursor: pointer;
  transition: transform 180ms ease, filter 180ms ease, box-shadow 180ms ease;
}

.cssbuttons-io-button:hover {
  filter: brightness(1.08);
  transform: translateY(-2px);
  color: rgba(255, 255, 255, 0.95);
}

.cssbuttons-io-button:active {
  transition: 120ms;
  transform: translateY(0) scale(0.995) rotate(-2deg);
}
@import "tailwindcss";
.scrollable::-webkit-scrollbar {
  width: 8px;
}
.scrollable::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
}
.scrollable::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.4);
}
.backdrop-strong {
  backdrop-filter: blur(500px) saturate(500%);
}
.scrollable {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-button: var(--button);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-inter);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 9999px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

@media (prefers-color-scheme: dark) {
  :root {
    --card: #fcfbf899;
    --button: #1a1a1a;
    --border: #fdecd39a;
    --primary: #0f6fec;
  }
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: #fcfbf899;
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(63.336% 0.27166 337.29);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}
@layer base {
  * {
    @apply border-border outline-ring/50;
    font-family: inherit;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  }
}

/* Theme background (default colorful) */
:root {
  --gradient-bg: radial-gradient(
      ellipse at top right,
      #806bdf 0%,
      #6c59bb 0%,
      rgba(200, 190, 230, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at right 40%, #f64770 0%, transparent 20%),
    radial-gradient(ellipse at right 45%, #f6bb32 0%, transparent 30%),
    radial-gradient(ellipse at right 100%, #f5dcc8 0%, transparent 35%),
    radial-gradient(ellipse at 88% 30%, #5cbf9b 0%, transparent 25%),
    radial-gradient(ellipse at bottom right, #f5dcc8 0%, transparent 35%),
    radial-gradient(
      ellipse at bottom right,
      #f64770 0%,
      #f6bb32 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center bottom,
      #f6bb32 0%,
      #f64770 0%,
      #f5dcc8 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse at bottom left,
      #806bdf 0%,
      #6c59bb 0%,
      rgba(200, 190, 230, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at 20% 80%, #f64770 0%, transparent 20%),
    radial-gradient(ellipse at 36% 80%, #f6bb32 0%, transparent 30%),
    radial-gradient(ellipse at 36% 100%, #f5dcc8 0%, transparent 35%),
    radial-gradient(ellipse at 36% 100%, #5cbf9b 0%, transparent 25%),
    radial-gradient(ellipse at top left, #f5dcc8 0%, transparent 35%),
    radial-gradient(
      ellipse at top left,
      #f64770 0%,
      #f6bb32 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center top,
      #f6bb32 0%,
      #f64770 0%,
      #f5dcc8 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse 100% 70% at center,
      #f5dcc8 15%,
      #fce8d0 25%,
      #f9e8d8 50%,
      rgba(250, 240, 230, 0.6) 75%,
      transparent 100%
    ),
    linear-gradient(135deg, #fdfcfb 0%, #f9f7f3 100%);

  /* Glass defaults */
  --glass-tint: rgba(255, 255, 255, 0.14);
  --glass-tint-2: rgba(255, 255, 255, 0.06);
  --glass-shadow: rgba(8, 18, 24, 0.16);
  --surface-bg: #ffffff;
  --surface-border: rgba(15, 23, 42, 0.08);
  --surface-hover: rgba(15, 23, 42, 0.04);
  --theme: #0ea5e9;
  --panel-text: #0f172a;
  --table-hover-bg: color-mix(in oklch, #027725, transparent 90%);
}

/* White-gray */
[data-theme="white-gray"] {
  --gradient-bg: radial-gradient(
      ellipse at top right,
      #e6e9ed 0%,
      #d9dde1 0%,
      rgba(220, 220, 220, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at right 40%, #f0f1f3 0%, transparent 20%),
    radial-gradient(ellipse at right 45%, #d0d3d6 0%, transparent 30%),
    radial-gradient(ellipse at right 100%, #c5c9cc 0%, transparent 35%),
    radial-gradient(ellipse at 88% 30%, #bfc3c6 0%, transparent 25%),
    radial-gradient(ellipse at bottom right, #e6e9ed 0%, transparent 35%),
    radial-gradient(
      ellipse at bottom right,
      #e0e3e6 0%,
      #c5c9cc 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center bottom,
      #dfe1e3 0%,
      #cfd2d4 0%,
      #babec2 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse at bottom left,
      #e6e9ed 0%,
      #d9dde1 0%,
      rgba(220, 220, 220, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at 20% 80%, #f0f1f3 0%, transparent 20%),
    radial-gradient(ellipse at 36% 80%, #d0d3d6 0%, transparent 30%),
    radial-gradient(ellipse at 36% 100%, #c5c9cc 0%, transparent 35%),
    radial-gradient(ellipse at 36% 100%, #bfc3c6 0%, transparent 25%),
    radial-gradient(ellipse at top left, #e6e9ed 0%, transparent 35%),
    radial-gradient(
      ellipse at top left,
      #e0e3e6 0%,
      #cfd2d4 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center top,
      #dfe1e3 0%,
      #cfd2d4 0%,
      #babec2 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse 100% 70% at center,
      #f5f6f7 15%,
      #e6e9ed 25%,
      #d9dde1 50%,
      rgba(230, 230, 230, 0.6) 75%,
      transparent 100%
    ),
    linear-gradient(135deg, #f8f9fa 0%, #e6e9ed 100%);
  --surface-bg: #ffffff;
  --surface-border: rgba(15, 23, 42, 0.1);
  --surface-hover: rgba(15, 23, 42, 0.05);
  --panel-text: #0f172a;
  --table-hover-bg: color-mix(in oklch, #94a3b8, transparent 90%);
}

/* Dark-gray */
[data-theme="dark-gray"] {
  --gradient-bg: radial-gradient(
      ellipse at top right,
      #4a5568 0%,
      #2d3748 0%,
      rgba(74, 85, 104, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at right 40%, #1a202c 0%, transparent 20%),
    radial-gradient(ellipse at right 45%, #4a5568 0%, transparent 30%),
    radial-gradient(ellipse at right 100%, #718096 0%, transparent 35%),
    radial-gradient(ellipse at 88% 30%, #2d3748 0%, transparent 25%),
    radial-gradient(ellipse at bottom right, #718096 0%, transparent 35%),
    radial-gradient(
      ellipse at bottom right,
      #1a202c 0%,
      #4a5568 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center bottom,
      #4a5568 0%,
      #1a202c 0%,
      #718096 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse at bottom left,
      #4a5568 0%,
      #2d3748 0%,
      rgba(74, 85, 104, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at 20% 80%, #1a202c 0%, transparent 20%),
    radial-gradient(ellipse at 36% 80%, #4a5568 0%, transparent 30%),
    radial-gradient(ellipse at 36% 100%, #718096 0%, transparent 35%),
    radial-gradient(ellipse at 36% 100%, #2d3748 0%, transparent 25%),
    radial-gradient(ellipse at top left, #718096 0%, transparent 35%),
    radial-gradient(
      ellipse at top left,
      #1a202c 0%,
      #4a5568 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center top,
      #4a5568 0%,
      #1a202c 0%,
      #718096 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse 100% 70% at center,
      #718096 15%,
      #4a5568 25%,
      #2d3748 50%,
      rgba(26, 32, 44, 0.6) 75%,
      transparent 100%
    ),
    linear-gradient(135deg, #1a202c 0%, #2d3748 100%);

  --surface-bg: #1a202c;
  --surface-border: rgba(255, 255, 255, 0.12);
  --surface-hover: rgba(255, 255, 255, 0.06);
  --panel-text: #e5e7eb;
  --table-hover-bg: color-mix(in oklch, #4a5568, transparent 90%);
}

/* Dark-green */
[data-theme="dark-green"] {
  --gradient-bg: radial-gradient(
      ellipse at top right,
      #2f7c57 0%,
      #1e5a3e 0%,
      rgba(47, 124, 87, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at right 40%, #0f3d2a 0%, transparent 20%),
    radial-gradient(ellipse at right 45%, #3d9970 0%, transparent 30%),
    radial-gradient(ellipse at right 100%, #5cb88a 0%, transparent 35%),
    radial-gradient(ellipse at 88% 30%, #1e5a3e 0%, transparent 25%),
    radial-gradient(ellipse at bottom right, #5cb88a 0%, transparent 35%),
    radial-gradient(
      ellipse at bottom right,
      #0f3d2a 0%,
      #3d9970 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center bottom,
      #3d9970 0%,
      #0f3d2a 0%,
      #5cb88a 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse at bottom left,
      #2f7c57 0%,
      #1e5a3e 0%,
      rgba(47, 124, 87, 0.4) 35%,
      transparent 85%
    ),
    radial-gradient(ellipse at 20% 80%, #0f3d2a 0%, transparent 20%),
    radial-gradient(ellipse at 36% 80%, #3d9970 0%, transparent 30%),
    radial-gradient(ellipse at 36% 100%, #5cb88a 0%, transparent 35%),
    radial-gradient(ellipse at 36% 100%, #1e5a3e 0%, transparent 25%),
    radial-gradient(ellipse at top left, #5cb88a 0%, transparent 35%),
    radial-gradient(
      ellipse at top left,
      #0f3d2a 0%,
      #3d9970 0%,
      transparent 15%
    ),
    radial-gradient(
      ellipse at center top,
      #3d9970 0%,
      #0f3d2a 0%,
      #5cb88a 0%,
      transparent 25%
    ),
    radial-gradient(
      ellipse 100% 70% at center,
      #5cb88a 15%,
      #3d9970 25%,
      #1e5a3e 50%,
      rgba(15, 61, 42, 0.6) 75%,
      transparent 100%
    ),
    linear-gradient(135deg, #0f3d2a 0%, #1e5a3e 100%);

  --glass-tint: rgba(24, 58, 44, 0.45);
  --glass-tint-2: rgba(24, 58, 44, 0.25);
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-highlight: rgba(255, 255, 255, 0.22);
  --glass-shadow: rgba(6, 24, 18, 0.28);
  --panel-text: #e6fffa;
  --table-hover-bg: color-mix(in oklch, #2f7c57, transparent 90%);
}

/* Paper / contract preview styles */
.paper-viewport {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 1rem;
}

.paper-legal {
  /* Legal paper: 8.5in x 14in */
  width: 8.5in;
  min-height: 14in;
  background: white;
  color: var(--panel-text);
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.18);
  border-radius: 6px;
  padding: 2cm; /* typical page margins */
  box-sizing: border-box;
  overflow: auto;
}

/* Make the paper responsive: scale down on small screens */
@media (max-width: 1100px) {
  .paper-legal {
    width: calc(8.5in * 0.7);
    min-height: calc(14in * 0.7);
    padding: 1.2cm;
  }
}

@media (max-width: 640px) {
  .paper-legal {
    width: calc(8.5in * 0.55);
    min-height: calc(14in * 0.55);
    padding: 0.8cm;
  }
  .paper-viewport {
    padding: 0.5rem;
  }
}

/* When printing from the preview modal, try to use actual paper dimensions */
@media print {
  .paper-legal {
    box-shadow: none;
    border: none;
    width: 8.5in;
    min-height: 14in;
    padding: 2cm;
  }
}

/* Dark themes: make inputs and dropdowns black surfaces with white text */
[data-theme="dark-black"] input,
[data-theme="dark-black"] textarea,
[data-theme="dark-black"] select,
[data-theme="dark-black"] .ant-input,
[data-theme="dark-black"] .ant-input-affix-wrapper,
[data-theme="dark-black"] .ant-input-number,
[data-theme="dark-black"] .ant-input-number-input,
[data-theme="dark-black"] .ant-select-selector,
[data-theme="dark-black"] .ant-picker,
[data-theme="dark-black"] .mantine-Input-input,
[data-theme="dark-gray"] input,
[data-theme="dark-gray"] textarea,
[data-theme="dark-gray"] select,
[data-theme="dark-gray"] .ant-input,
[data-theme="dark-gray"] .ant-input-affix-wrapper,
[data-theme="dark-gray"] .ant-input-number,
[data-theme="dark-gray"] .ant-input-number-input,
[data-theme="dark-gray"] .ant-select-selector,
[data-theme="dark-gray"] .ant-picker,
[data-theme="dark-gray"] .mantine-Input-input,
[data-theme="dark-green"] input,
[data-theme="dark-green"] textarea,
[data-theme="dark-green"] select,
[data-theme="dark-green"] .ant-input,
[data-theme="dark-green"] .ant-input-affix-wrapper,
[data-theme="dark-green"] .ant-input-number,
[data-theme="dark-green"] .ant-input-number-input,
[data-theme="dark-green"] .ant-select-selector,
[data-theme="dark-green"] .ant-picker,
[data-theme="dark-green"] .mantine-Input-input {
  background: color-mix(in srgb, var(--surface-bg), transparent 15%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);
  color: var(--panel-text) !important;
  caret-color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
}

[data-theme="dark-black"] input::placeholder,
[data-theme="dark-black"] textarea::placeholder,
[data-theme="dark-black"] .mantine-Input-input::placeholder,
[data-theme="dark-black"] .ant-select-selection-placeholder,
[data-theme="dark-gray"] input::placeholder,
[data-theme="dark-gray"] textarea::placeholder,
[data-theme="dark-gray"] .mantine-Input-input::placeholder,
[data-theme="dark-gray"] .ant-select-selection-placeholder,
[data-theme="dark-green"] input::placeholder,
[data-theme="dark-green"] textarea::placeholder,
[data-theme="dark-green"] .mantine-Input-input::placeholder,
[data-theme="dark-green"] .ant-select-selection-placeholder {
  color: rgba(229, 231, 235, 0.7) !important; /* slate-200 @ 70% */
}
[data-theme="dark-black"] .menu-surface input::placeholder,
[data-theme="dark-gray"] .menu-surface input::placeholder,
[data-theme="dark-green"] .menu-surface input::placeholder,
[data-mode="dark"] .menu-surface input::placeholder,
[data-theme="dark-black"] .menu-surface textarea::placeholder,
[data-theme="dark-gray"] .menu-surface textarea::placeholder,
[data-theme="dark-green"] .menu-surface textarea::placeholder,
[data-mode="dark"] .menu-surface textarea::placeholder,
/* Target the specific login fields as highest specificity */
[data-theme="dark-black"] #email::placeholder,
[data-theme="dark-gray"] #email::placeholder,
[data-theme="dark-green"] #email::placeholder,
[data-mode="dark"] #email::placeholder,
[data-theme="dark-black"] #password::placeholder,
[data-theme="dark-gray"] #password::placeholder,
[data-theme="dark-green"] #password::placeholder,
[data-mode="dark"] #password::placeholder {
  color: rgba(229, 231, 235, 0.52) !important;
}

/* Autofill can inject its own yellow/white background and text color; force consistent
   appearance for autofilled inputs across themes. Targets both standard autofill and
   autofill when focused. Uses large inset box-shadow to override UA styles. */
input:-webkit-autofill,
textarea:-webkit-autofill,
input:-webkit-autofill:focus,
textarea:-webkit-autofill:focus,
.menu-surface input:-webkit-autofill,
.menu-surface textarea:-webkit-autofill,
#email:-webkit-autofill,
#password:-webkit-autofill,
#email:-webkit-autofill:focus,
#password:-webkit-autofill:focus {
  -webkit-text-fill-color: var(--panel-text) !important;
  color: var(--panel-text) !important;
  caret-color: var(--panel-text) !important;
  -webkit-box-shadow: 0 0 0px 1000px var(--surface-bg) inset !important;
  box-shadow: 0 0 0px 1000px var(--surface-bg) inset !important;
}

/* Firefox autofill */
input:-moz-autofill,
textarea:-moz-autofill,
input:-moz-autofill:focus,
textarea:-moz-autofill:focus {
  box-shadow: 0 0 0px 1000px var(--surface-bg) inset !important;
  -moz-text-fill-color: var(--panel-text) !important;
  color: var(--panel-text) !important;
  caret-color: var(--panel-text) !important;
}

/* Ensure dark themes always show readable input text and a slightly muted placeholder.
   Some libraries apply -webkit-text-fill-color: transparent for gradient text which can
   leak into inputs; force the fill color and caret for dark themes here. */
[data-theme="dark-black"] input,
[data-theme="dark-black"] textarea,
[data-theme="dark-black"] .mantine-Input-input,
[data-theme="dark-gray"] input,
[data-theme="dark-gray"] textarea,
[data-theme="dark-gray"] .mantine-Input-input,
[data-theme="dark-green"] input,
[data-theme="dark-green"] textarea,
[data-theme="dark-green"] .mantine-Input-input,
[data-mode="dark"] input,
[data-mode="dark"] textarea,
[data-mode="dark"] .mantine-Input-input {
  color: var(--panel-text) !important;
  caret-color: var(--panel-text) !important;
  /* Do NOT set -webkit-text-fill-color here, it can make placeholders same as text */
}

[data-theme="dark-black"] input::placeholder,
[data-theme="dark-gray"] input::placeholder,
[data-theme="dark-green"] input::placeholder,
[data-mode="dark"] input::placeholder,
[data-theme="dark-black"] textarea::placeholder,
[data-theme="dark-gray"] textarea::placeholder,
[data-theme="dark-green"] textarea::placeholder,
[data-mode="dark"] textarea::placeholder {
  /* slightly muted but clearly visible */
  color: rgba(229, 231, 235, 0.52) !important;
}

/* Ant Design dropdowns and selectors honor dark surfaces */
[data-theme="dark-black"] .ant-select-dropdown,
[data-theme="dark-gray"] .ant-select-dropdown,
[data-theme="dark-green"] .ant-select-dropdown,
[data-theme="dark-black"] .ant-dropdown .ant-dropdown-menu,
[data-theme="dark-gray"] .ant-dropdown .ant-dropdown-menu,
[data-theme="dark-green"] .ant-dropdown .ant-dropdown-menu {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
}
[data-theme="dark-black"] .ant-select-item,
[data-theme="dark-gray"] .ant-select-item,
[data-theme="dark-green"] .ant-select-item,
[data-theme="dark-black"] .ant-dropdown-menu-item,
[data-theme="dark-gray"] .ant-dropdown-menu-item,
[data-theme="dark-green"] .ant-dropdown-menu-item,
[data-theme="dark-black"] .ant-dropdown-menu-submenu-title,
[data-theme="dark-gray"] .ant-dropdown-menu-submenu-title,
[data-theme="dark-green"] .ant-dropdown-menu-submenu-title {
  color: var(--panel-text) !important;
}

/* New theme: dark-blackish gradient */
[data-theme="dark-black"] {
  --gradient-bg: linear-gradient(135deg, #0b0b10 0%, #161620 50%, #1c1c28 100%);
  --surface-bg: #0f0f16; /* deep near-black surface */
  --surface-border: rgba(255, 255, 255, 0.14);
  --panel-text: #e5e7eb; /* slate-200 for contrast */
  --glass-tint: rgba(10, 10, 16, 0.55);
  --glass-tint-2: rgba(12, 12, 20, 0.35);
  --glass-border: rgba(255, 255, 255, 0.16);
  --glass-highlight: rgba(255, 255, 255, 0.18);
  --glass-shadow: rgba(0, 0, 0, 0.35);
  --table-hover-bg: color-mix(in oklch, #4b5563, transparent 90%);
}

/* New theme: blue gradient */
[data-theme="blue-gradient"] {
  --gradient-bg: linear-gradient(
    135deg,
    #308dc7 0%,
    #92b6f0 30%,
    #799db4 60%,
    #a8daf9 100%
  );
  --surface-bg: #ffffff; /* light surfaces */
  --surface-border: rgba(15, 23, 42, 0.12);
  --panel-text: #0f172a; /* slate-900 */
  --glass-tint: rgba(255, 255, 255, 0.9);
  --glass-tint-2: rgba(255, 255, 255, 0.82);
  --glass-border: rgba(15, 23, 42, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.6);
  --glass-shadow: rgba(14, 30, 60, 0.12);
  --table-hover-bg: color-mix(in oklch, #3b82f6, transparent 90%);
}

/* New theme: gentle static green (eye-friendly) */
[data-theme="green-static"] {
  /* Solid soft green background (Material Green 50-like) */
  --gradient-bg: #e8f5e9;
  /* Keep clean white surfaces for panels/forms */
  --surface-bg: #ffffff;
  --surface-border: rgba(15, 23, 42, 0.08);
  --panel-text: #0f172a; /* readable dark text */
  /* Glass tokens tuned for light backgrounds */
  --glass-tint: rgba(255, 255, 255, 0.95);
  --glass-tint-2: rgba(255, 255, 255, 0.88);
  --glass-border: rgba(15, 23, 42, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.6);
  --glass-shadow: rgba(14, 30, 60, 0.08);
  --table-hover-bg: color-mix(in oklch, #10b981, transparent 90%);
}

/* Ensure page reads the variable background */
html,
body {
  background: var(--gradient-bg);
  /* Prevent unwanted page overflow and unify scrollbar */
  min-height: 100%;
  overflow-x: hidden; /* remove horizontal overflow */
  overflow-y: visible; /* keep vertical scroll on page */
  /* Firefox scrollbar */
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

/* Disable scrolling on desktop (screens wider than 768px) */
@media (min-width: 768px) {
  html,
  body {
    overflow-y: hidden;
    height: 100vh;
  }
}

/* WebKit scrollbars for the page (only visible on mobile) */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
}
html::-webkit-scrollbar-thumb:hover,
body::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.4);
}

/* ================== Dark variants for the three themes ================== */
/* Use data-mode="dark" to flip surfaces/text/gradients without changing theme id */
/* Colorful: support both data-mode="dark" and Tailwind .dark class on the root */

/* Default colorful theme (no data-theme attr) — dark mode = colorful on dark */
html[data-mode="dark"]:not([data-theme]),
[data-mode="dark"]:not([data-theme]) {
  /* Keep the same colorful character, but on a deep indigo base */
  --gradient-bg: radial-gradient(
      ellipse at top right,
      rgba(128, 107, 223, 0.28) 0%,
      transparent 36%
    ),
    radial-gradient(
      ellipse at right 40%,
      rgba(246, 71, 112, 0.18) 0%,
      transparent 24%
    ),
    radial-gradient(
      ellipse at right 45%,
      rgba(246, 187, 50, 0.16) 0%,
      transparent 30%
    ),
    radial-gradient(
      ellipse at 88% 30%,
      rgba(92, 191, 155, 0.18) 0%,
      transparent 26%
    ),
    radial-gradient(
      ellipse at bottom left,
      rgba(128, 107, 223, 0.22) 0%,
      transparent 42%
    ),
    radial-gradient(
      ellipse at 20% 80%,
      rgba(246, 71, 112, 0.14) 0%,
      transparent 24%
    ),
    radial-gradient(
      ellipse at 36% 100%,
      rgba(246, 187, 50, 0.12) 0%,
      transparent 32%
    ),
    radial-gradient(
      ellipse at 36% 100%,
      rgba(92, 191, 155, 0.14) 0%,
      transparent 30%
    ),
    linear-gradient(135deg, #0b1220 0%, #0f1730 45%, #111a35 100%);
  --surface-bg: #0f1424; /* dark navy to match the base */
  --surface-border: rgba(219, 234, 254, 0.18);
  --surface-hover: rgba(219, 234, 254, 0.08);
  --panel-text: #e6efff; /* soft ice for readability */
  /* Glass tokens tuned for indigo/navy background */
  --glass-tint: rgba(9, 14, 28, 0.5);
  --glass-tint-2: rgba(12, 18, 34, 0.32);
  --glass-border: rgba(219, 234, 254, 0.22);
  --glass-highlight: rgba(255, 255, 255, 0.2);
  --glass-shadow: rgba(2, 6, 23, 0.42);
}

[data-theme="blue-gradient"][data-mode="dark"] {
  --gradient-bg: linear-gradient(135deg, #0b1220 0%, #0f1730 45%, #111a35 100%);
  --surface-bg: #0f1424;
  --surface-border: rgba(219, 234, 254, 0.18);
  --panel-text: #e6efff;
  --glass-tint: rgba(9, 14, 28, 0.5);
  --glass-tint-2: rgba(12, 18, 34, 0.32);
  --glass-border: rgba(219, 234, 254, 0.22);
  --glass-highlight: rgba(255, 255, 255, 0.2);
  --glass-shadow: rgba(2, 6, 23, 0.42);
}

[data-theme="colorful"][data-mode="dark"] {
  /* Keep the same colorful character, but on a deep indigo base */
  --gradient-bg: radial-gradient(
      ellipse at top right,
      rgba(128, 107, 223, 0.28) 0%,
      transparent 36%
    ),
    radial-gradient(
      ellipse at right 40%,
      rgba(246, 71, 112, 0.18) 0%,
      transparent 24%
    ),
    radial-gradient(
      ellipse at right 45%,
      rgba(246, 187, 50, 0.16) 0%,
      transparent 30%
    ),
    radial-gradient(
      ellipse at 88% 30%,
      rgba(92, 191, 155, 0.18) 0%,
      transparent 26%
    ),
    radial-gradient(
      ellipse at bottom left,
      rgba(128, 107, 223, 0.22) 0%,
      transparent 42%
    ),
    radial-gradient(
      ellipse at 20% 80%,
      rgba(246, 71, 112, 0.14) 0%,
      transparent 24%
    ),
    radial-gradient(
      ellipse at 36% 100%,
      rgba(246, 187, 50, 0.12) 0%,
      transparent 32%
    ),
    radial-gradient(
      ellipse at 36% 100%,
      rgba(92, 191, 155, 0.14) 0%,
      transparent 30%
    ),
    linear-gradient(135deg, #0b1220 0%, #0f1730 45%, #111a35 100%);
  --surface-bg: #0f1424; /* dark navy to match the base */
  --surface-border: rgba(219, 234, 254, 0.18);
  --panel-text: #e6efff; /* soft ice for readability */
  /* Glass tokens tuned for indigo/navy background */
  --glass-tint: rgba(9, 14, 28, 0.5);
  --glass-tint-2: rgba(12, 18, 34, 0.32);
  --glass-border: rgba(219, 234, 254, 0.22);
  --glass-highlight: rgba(255, 255, 255, 0.2);
  --glass-shadow: rgba(2, 6, 23, 0.42);
}

[data-theme="white-gray"][data-mode="dark"] {
  --gradient-bg: linear-gradient(135deg, #0e1116 0%, #141820 50%, #171b23 100%);
  --surface-bg: #10141b;
  --surface-border: rgba(255, 255, 255, 0.14);
  --panel-text: #e5e7eb;
  --glass-tint: rgba(16, 20, 27, 0.5);
  --glass-tint-2: rgba(16, 20, 27, 0.3);
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-highlight: rgba(255, 255, 255, 0.2);
  --glass-shadow: rgba(3, 6, 12, 0.38);
}

/* Controls follow dark tokens automatically when data-mode="dark" */
[data-mode="dark"] input,
[data-mode="dark"] textarea,
[data-mode="dark"] select,
[data-mode="dark"] .ant-input,
[data-mode="dark"] .ant-input-affix-wrapper,
[data-mode="dark"] .ant-input-number,
[data-mode="dark"] .ant-input-number-input,
[data-mode="dark"] .ant-select-selector,
[data-mode="dark"] .ant-picker,
[data-mode="dark"] .mantine-Input-input {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
  caret-color: var(--panel-text) !important;
}
[data-mode="dark"] input::placeholder,
[data-mode="dark"] textarea::placeholder,
[data-mode="dark"] .mantine-Input-input::placeholder,
[data-mode="dark"] .ant-select-selection-placeholder {
  color: rgba(229, 231, 235, 0.7) !important;
}
[data-mode="dark"] .ant-select-dropdown,
[data-mode="dark"] .ant-dropdown .ant-dropdown-menu,
[data-mode="dark"] .mantine-Combobox-dropdown,
[data-mode="dark"] .mantine-Popover-dropdown {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
  /* Keep popovers compact and responsive */
  width: max-content !important;
  min-width: auto !important;
  max-width: min(96vw, 720px) !important;
}
[data-mode="dark"] .ant-select-item,
[data-mode="dark"] .ant-dropdown-menu-item,
[data-mode="dark"] .ant-dropdown-menu-submenu-title,
[data-mode="dark"] .mantine-Combobox-option {
  color: var(--panel-text) !important;
}

/* ================== Edge toggler (FAB + arc trail) ================== */
.theme-fab {
  position: absolute;
  z-index: 50;
  pointer-events: auto;
}
.mode-fab {
  width: 44px;
  height: 44px;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, var(--glass-tint), var(--glass-tint-2));
  -webkit-backdrop-filter: blur(24px) saturate(160%);
  backdrop-filter: blur(24px) saturate(160%);
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 40%);
  box-shadow: 0 18px 38px var(--glass-shadow),
    inset 0 1px 0 var(--glass-highlight);
  color: var(--panel-text);
  transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease;
}
.mode-fab::before {
  content: "";
  position: absolute;
  top: 6px;
  left: 8px;
  width: 26px;
  height: 12px;
  border-radius: 9999px;
  background: radial-gradient(
    ellipse at 20% 20%,
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.35) 60%,
    transparent 80%
  );
  filter: blur(1.5px);
  pointer-events: none;
}
.mode-fab:hover {
  transform: translateY(-1px);
}
.mode-fab:active {
  transform: translateY(0);
}
.mode-fab svg {
  width: 18px;
  height: 18px;
}

/* Magenta arc trail hugging the corner */
.mode-trail {
  position: absolute;
  width: 96px;
  height: 96px;
  top: -56px;
  right: -56px;
  pointer-events: none;
  /* Neutral embossed arc – subtle highlight + shadow */
  background: conic-gradient(
    from 210deg,
    rgba(255, 255, 255, 0.85),
    rgba(148, 163, 184, 0.38) 35%,
    transparent 60%
  );
  -webkit-mask: radial-gradient(closest-side, transparent 63%, #000 65%);
  mask: radial-gradient(closest-side, transparent 63%, #000 65%);
  border-top-right-radius: 100%;
  filter: blur(10px) saturate(140%);
  opacity: 0.6;
  transition: opacity 200ms ease;
}
.mode-trail::after {
  content: "";
  position: absolute;
  inset: 0;
  background: conic-gradient(
    from 210deg,
    rgba(0, 0, 0, 0.18),
    rgba(0, 0, 0, 0.06) 35%,
    transparent 60%
  );
  -webkit-mask: radial-gradient(closest-side, transparent 70%, #000 72%);
  mask: radial-gradient(closest-side, transparent 70%, #000 72%);
  border-top-right-radius: 100%;
  filter: blur(6px);
}
.theme-fab:hover .mode-trail {
  opacity: 0.75;
}
.theme-fab.is-dark .mode-trail {
  opacity: 0.95;
}

/* iOS 26 Glassy Panel - adaptive across all themes */
.neu-panel {
  position: relative;
  border-radius: 2rem;
  overflow: hidden;
  isolation: isolate;

  /* iOS 26-style glass background with theme adaptation */
  background: linear-gradient(
    135deg,
    color-mix(in oklch, var(--glass-tint), transparent 8%) 0%,
    color-mix(in oklch, var(--glass-tint-2), transparent 18%) 100%
  );

  /* Premium blur, saturation and brightness for iOS 26 feel */
  -webkit-backdrop-filter: blur(48px) saturate(180%) brightness(1.12);
  backdrop-filter: blur(48px) saturate(180%) brightness(1.12);

  /* Luminous adaptive border */
  border: 1.5px solid color-mix(in oklch, var(--glass-border), transparent 30%);
  background-clip: padding-box;

  /* iOS 26 multi-layer shadow system for depth */
  box-shadow: 
    /* Soft ambient shadow */ 0 24px 64px
      color-mix(in oklch, var(--glass-shadow), transparent 15%),
    /* Mid-range depth */ 0 12px 32px
      color-mix(in oklch, var(--glass-shadow), transparent 35%),
    /* Tight contact shadow */ 0 4px 16px
      color-mix(in oklch, var(--glass-shadow), transparent 45%),
    /* Inner top glow */ inset 0 1px 0
      color-mix(in oklch, var(--glass-highlight), transparent 25%),
    /* Inner bottom subtle shadow */ inset 0 -1px 0 color-mix(in oklch, var(--glass-highlight), transparent
          82%);

  /* Text inherits theme color */
  color: var(--panel-text);
}

/* Calendar-specific surface that follows the app 'neu-panel' look but
   tuned for compact calendar popovers and modal panels. Use this class
   on calendar containers/portals so the calendar follows theme tokens. */
.neu-calendar {
  position: relative;
  border-radius: 1rem;
  padding: 0.5rem;
  isolation: isolate;

  /* Use the solid surface token so calendars are easy to read when
     rendered inside a modal or portal. We keep a subtle shadow for
     depth but avoid the heavy multi-layer blur used by large panels. */
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;

  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);

  box-shadow: 0 12px 36px
      color-mix(in oklch, var(--glass-shadow), transparent 28%),
    inset 0 1px 0 color-mix(in oklch, var(--glass-highlight), transparent 25%);

  /* Keep calendar panels compact and responsive */
  max-width: min(96vw, 720px);
  background-clip: padding-box;
}

@keyframes shimmer {
  0%,
  100% {
    transform: translate(-50%, -50%) rotate(0deg);
    opacity: 0;
  }
  50% {
    transform: translate(50%, 50%) rotate(180deg);
    opacity: 0.4;
  }
}

.neu-table {
  position: relative;
  border-radius: 1.25rem;
  overflow: hidden; /* clip blur edges */
  isolation: isolate; /* proper stacking for effects */
  background: linear-gradient(180deg, var(--glass-tint), var(--glass-tint-2));
  -webkit-backdrop-filter: blur(28px) saturate(160%);
  backdrop-filter: blur(28px) saturate(160%);
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 40%);

  color: var(--panel-text);
  background-clip: padding-box;
}
.neu-nav {
  position: relative;
  /* let dropdowns overflow the navbar */
  overflow: visible; /* allow dropdowns/menus to escape navbar bounds */
  isolation: isolate;

  /* iOS 26 glassy aesthetic with enhanced depth */
  background: linear-gradient(
    180deg,
    color-mix(in oklch, var(--glass-tint), white 8%),
    color-mix(in oklch, var(--glass-tint-2), transparent 5%)
  );

  /* Stronger blur for that premium iOS 26 frosted glass */
  -webkit-backdrop-filter: blur(40px) saturate(180%) brightness(1.05);
  backdrop-filter: blur(40px) saturate(180%) brightness(1.05);

  /* Ultra-thin iOS 26 hairline separator */
  border: none;
  border-bottom: 0.5px solid
    color-mix(in oklch, var(--glass-border), transparent 60%);

  /* Softer, more diffused shadow with subtle inner glow */
  box-shadow: 0 1px 0 0 color-mix(in oklch, white, transparent 70%) inset,
    0 -1px 0 0 color-mix(in oklch, black, transparent 92%) inset,
    0 20px 40px -10px color-mix(in oklch, var(--glass-shadow), transparent 40%),
    0 10px 20px -5px color-mix(in oklch, var(--glass-shadow), transparent 60%);

  color: var(--panel-text);
  background-clip: padding-box;

  /* Subtle transform for that floating feel */
  transform: translateZ(0);
  will-change: transform;
}
/* Professional menu font for top navigation/menu items */
.menu-pro-font {
  font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-weight: 600; /* keep the menu prominent */
  letter-spacing: 0.2px;
}

/* Surfaces inherit themed text color so labels/icons follow the background */
.neu-nav a,
.neu-nav span,
.neu-nav button,
.menu-surface a,
.menu-surface span,
.menu-surface button,
.neu-panel a,
.neu-panel span,
.neu-panel button {
  color: inherit;
}

/* Themed focus rings for interactive surfaces */
.menu-surface:focus-visible,
.neu-nav :is(a, button):focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus-ring);
}

/* Unify .btn border with tokens (remove hard-coded gray-200 override) */
/* ...existing code... */
.btn {
  background-color: var(--btn-bg);
  color: var(--btn-text);
  border: 1px solid var(--btn-border);
}
/* ...existing code... */

/* Optional: round dropdown surface by default */
.menu-surface {
  background: var(--surface-bg, #fff) !important;
  color: var(--panel-text, #0f172a) !important;
  border: 1px solid var(--surface-border, rgba(15, 23, 42, 0.12)) !important;
  border-radius: 1rem;
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);
  box-shadow: 0 10px 26px var(--glass-shadow, rgba(0, 0, 0, 0.18)),
    inset 0 1px 0 var(--glass-highlight, rgba(255, 255, 255, 0.4));
}

.aimr-surface {
  background: var(--surface-bg, #fff) !important;
  color: var(--panel-text, #0f172a) !important;
  border: 1px solid var(--surface-border, rgba(15, 23, 42, 0.12)) !important;
  border-radius: 1rem;
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);
}

/* AntD dropdowns/menus follow themed surfaces */
.ant-select-dropdown,
.ant-dropdown .ant-dropdown-menu {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: 0.75rem !important;
}
.ant-select-item,
.ant-dropdown-menu-item,
.ant-dropdown-menu-submenu-title {
  color: var(--panel-text) !important;
}

.page-surface {
  background: linear-gradient(
    180deg,
    var(--glass-tint),
    var(--glass-tint-2)
  ) !important;
  color: var(--panel-text, #0f172a) !important;
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 40%) !important;
  border-radius: 1.25rem;
  -webkit-backdrop-filter: blur(26px) saturate(170%);
  backdrop-filter: blur(26px) saturate(170%);
  box-shadow: 0 18px 38px var(--glass-shadow),
    inset 0 1px 0 var(--glass-highlight);
}

/* Optional helper to force iOS-like glass on any container */
.ios-glass {
  background: linear-gradient(
    180deg,
    var(--glass-tint),
    var(--glass-tint-2)
  ) !important;
  color: var(--panel-text) !important;
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 40%) !important;
  -webkit-backdrop-filter: blur(26px) saturate(170%);
  backdrop-filter: blur(26px) saturate(170%);
  box-shadow: 0 18px 38px var(--glass-shadow),
    inset 0 1px 0 var(--glass-highlight);
}
.badge-status {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.6rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 700;
  line-height: 1;
  border: 1px solid transparent;
  transition: color 120ms ease, background-color 120ms ease,
    border-color 120ms ease;
}

.badge-paid {
  background: rgba(34, 197, 94, 0.12) !important; /* green */
  color: #166534 !important; /* green-800 */
  border-color: rgba(16, 185, 129, 0.25) !important;
}
.badge-unpaid {
  background: rgba(239, 68, 68, 0.12) !important; /* red */
  color: #7f1d1d !important; /* red-900 */
  border-color: rgba(239, 68, 68, 0.25) !important;
}
.badge-unknown {
  background: rgba(148, 163, 184, 0.16) !important; /* slate */
  color: #5b6a7e !important; /* slate-600 */
  border-color: rgba(148, 163, 184, 0.25) !important;
}

/* Ensure icons inside badges follow text color */
.badge-status svg {
  color: currentColor !important;
  width: 14px;
  height: 14px;
}
:root {
  --surface-bg: #ffffff; /* default for colorful */
  --surface-border: rgba(15, 23, 42, 0.08);
}
[data-theme="white-gray"] {
  --surface-bg: #ffffff;
  --surface-border: rgba(15, 23, 42, 0.12);
}
[data-theme="dark-gray"] {
  --surface-bg: #0f172a; /* gray-900 */
  --surface-border: rgba(255, 255, 255, 0.16);
}
[data-theme="dark-green"] {
  --surface-bg: #0f2a1e; /* deep green */
  --surface-border: rgba(255, 255, 255, 0.16);
}

/* Dark-black surface tokens (append here to win cascade over :root) */
[data-theme="dark-black"] {
  --surface-bg: #0f0f16; /* deep near-black surface */
  --surface-border: rgba(255, 255, 255, 0.14);
}

/* DROPDOWNS: theme-colored, NOT transparent; optional blur behind */
.menu-surface {
  background: var(--surface-bg) !important; /* solid */
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: 1rem;
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);
  box-shadow: 0 10px 26px var(--glass-shadow),
    inset 0 1px 0 var(--glass-highlight);
}

.modal-surface {
  /* Always follow themed surface tokens */
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: 1rem;
  box-shadow: 0 32px 80px rgba(0, 0, 0, 0.35),
    inset 0 1px 0 var(--glass-highlight);
}

/* Text elements inside modal inherit readable color (avoid hardcoded slate classes) */
.modal-surface h1,
.modal-surface h2,
.modal-surface h3,
.modal-surface h4,
.modal-surface h5,
.modal-surface h6,
.modal-surface p,
.modal-surface label,
.modal-surface small,
.modal-surface span,
.modal-surface dt,
.modal-surface dd,
.modal-surface th,
.modal-surface td {
  color: var(--panel-text) !important;
}

/* Common borders inside modal should use themed border color */
.modal-surface .border-b,
.modal-surface .border-t,
.modal-surface .border-l,
.modal-surface .border-r,
.modal-surface .border,
.modal-surface .divide-y > * + * {
  border-color: var(--surface-border) !important;
}

/* Neutralize hardcoded light header background in modals */
.modal-surface .bg-gray-50 {
  background: transparent !important;
}

/* Neutralize hardcoded light backgrounds/borders inside modals */
.modal-surface .bg-white,
.modal-surface .bg-white\/90,
.modal-surface .bg-white\/95,
.modal-surface .bg-gray-50,
.modal-surface .bg-gray-100,
.modal-surface .bg-slate-50 {
  background: transparent !important;
}
.modal-surface .border-gray-50,
.modal-surface .border-gray-100,
.modal-surface .border-gray-200,
.modal-surface .border-white\/20,
.modal-surface .border-white\/30 {
  border-color: var(--surface-border) !important;
}

/* Some pages render decorative light gradients; inside modals, neutralize them */
.modal-surface .bg-gradient-to-br,
.modal-surface .bg-gradient-to-r,
.modal-surface .bg-gradient-to-l,
.modal-surface .bg-gradient-to-t,
.modal-surface .bg-gradient-to-b {
  background-image: none !important;
  background: var(--surface-bg) !important;
}

/* Avoid extra frosted layers within modal content */
.modal-surface .backdrop-blur-sm,
.modal-surface .backdrop-blur,
.modal-surface .backdrop-blur-md,
.modal-surface .backdrop-blur-lg,
.modal-surface .backdrop-blur-xl {
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
}

/* Responsive helper for custom modals */
.modal-responsive {
  width: 96vw !important;
  max-height: 90vh !important;
}
@media (min-width: 640px) {
  .modal-responsive {
    width: 100% !important;
    max-width: 56rem !important; /* ~max-w-5xl */
  }
}

/* Ant Design Modal theming to follow tokens (both light/dark) */
.ant-modal .ant-modal-content {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: 1rem !important;
}
.ant-modal .ant-modal-header {
  background: var(--surface-bg) !important;
  border-bottom: 1px solid var(--surface-border) !important;
}
.ant-modal .ant-modal-title,
.ant-modal .ant-modal-close {
  color: var(--panel-text) !important;
}
.ant-modal .ant-modal-body,
.ant-modal .ant-modal-footer {
  color: var(--panel-text) !important;
}
/* AntD Modal responsiveness */
.ant-modal {
  max-width: 95vw !important;
}
.ant-modal .ant-modal-content {
  max-height: 90vh !important;
  overflow: auto;
}
/* Mantine Modal: follow themed surface/header colors globally */
.mantine-Modal-content {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: 1rem !important;
}
.mantine-Modal-header {
  background: var(--surface-bg) !important;
  border-bottom: 1px solid var(--surface-border) !important;
  color: var(--panel-text) !important;
}
.mantine-Modal-title,
.mantine-Modal-close {
  color: var(--panel-text) !important;
}
.mantine-Modal-body {
  color: var(--panel-text) !important;
}
[data-theme="dark-black"] .mantine-DatePickerInput-root input {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
}
[data-theme="dark-black"] .mantine-DatePickerInput-root input::placeholder {
  color: rgba(229, 231, 235, 0.7) !important; /* slate-200 at 70% */
}
[data-theme="dark-black"] .mantine-DatePickerInput-root input:focus,
[data-theme="dark-black"] .mantine-DatePickerInput-root input:focus-visible {
  outline: none !important;
  box-shadow: 0 0 0 3px var(--focus-ring) !important; /* same as btn-minimal */
}
/* Calendar dropdown + text */
[data-theme="dark-black"] .mantine-Popover-dropdown,
[data-theme="dark-gray"] .mantine-Popover-dropdown,
[data-theme="dark-green"] .mantine-Popover-dropdown {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  border-radius: 0.75rem !important;
  /* Fix: prevent calendar dropdown from stretching full width */
  width: max-content !important;
  min-width: auto !important;

  max-width: min(96vw, 720px) !important;
  overflow: visible !important;
}
/* Ensure input elements from Mantine use dark surface */
[data-theme="dark-black"] .mantine-Input-input,
[data-theme="dark-gray"] .mantine-Input-input,
[data-theme="dark-green"] .mantine-Input-input {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
}
/* Popover content paper inside calendar */
[data-theme="dark-black"] .mantine-Popover-dropdown .mantine-Paper-root,
[data-theme="dark-gray"] .mantine-Popover-dropdown .mantine-Paper-root,
[data-theme="dark-green"] .mantine-Popover-dropdown .mantine-Paper-root {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
}
[data-theme="dark-black"] .mantine-CalendarHeader-label,
[data-theme="dark-black"] .mantine-Month-weekday,
[data-theme="dark-black"] .mantine-Month-day,
[data-theme="dark-gray"] .mantine-CalendarHeader-label,
[data-theme="dark-gray"] .mantine-Month-weekday,
[data-theme="dark-gray"] .mantine-Month-day,
[data-theme="dark-green"] .mantine-CalendarHeader-label,
[data-theme="dark-green"] .mantine-Month-weekday,
[data-theme="dark-green"] .mantine-Month-day {
  color: var(--panel-text) !important; /* unify header + weekdays + days text */
}
/* Also apply unscoped defaults so portal content (mounted on <body>) inherits theme vars */
.mantine-CalendarHeader-label,
.mantine-Month-weekday,
.mantine-Month-day {
  /* Fallback to a readable light color when portal can't see CSS vars */
  color: var(--panel-text, #e5e7eb) !important;
}
/* Avoid red weekends on dark-black; keep same text color */
[data-theme="dark-black"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-black"] .mantine-Month-day[data-weekend],
[data-theme="dark-gray"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-gray"] .mantine-Month-day[data-weekend],
[data-theme="dark-green"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-green"] .mantine-Month-day[data-weekend] {
  color: var(--panel-text) !important;
}
/* Unscoped weekend color to cover portal mounts */
.mantine-Month-weekday[data-weekend],
.mantine-Month-day[data-weekend] {
  color: var(--panel-text) !important;
}

/* Weekday labels should be white on dark themes */
[data-theme="dark-black"] .mantine-Month-weekday,
[data-theme="dark-gray"] .mantine-Month-weekday,
[data-theme="dark-green"] .mantine-Month-weekday {
  color: rgba(255, 255, 255, 0.95) !important;
  font-weight: 500;
}

/* Selected day */
[data-theme="dark-black"] .mantine-Month-day[data-selected],
[data-theme="dark-gray"] .mantine-Month-day[data-selected],
[data-theme="dark-green"] .mantine-Month-day[data-selected] {
  background: rgba(99, 102, 241, 0.22) !important; /* indigo hint */
  color: var(--panel-text) !important;
}
/* Outside/disabled days should be dimmed but readable on dark */
.mantine-Month-day[data-outside],
.mantine-Month-day:disabled {
  color: color-mix(in oklch, var(--panel-text), transparent 45%) !important;
}
/* Range states */
[data-theme="dark-black"] .mantine-Month-day[data-in-range],
[data-theme="dark-black"] .mantine-Month-day[data-first-in-range],
[data-theme="dark-black"] .mantine-Month-day[data-last-in-range],
[data-theme="dark-gray"] .mantine-Month-day[data-in-range],
[data-theme="dark-gray"] .mantine-Month-day[data-first-in-range],
[data-theme="dark-gray"] .mantine-Month-day[data-last-in-range],
[data-theme="dark-green"] .mantine-Month-day[data-in-range],
[data-theme="dark-green"] .mantine-Month-day[data-first-in-range],
[data-theme="dark-green"] .mantine-Month-day[data-last-in-range] {
  background: rgba(99, 102, 241, 0.12) !important;
  color: var(--panel-text) !important;
}

/* Day cells sizing and alignment */
[data-theme="dark-black"] .mantine-Month-day,
[data-theme="dark-gray"] .mantine-Month-day,
[data-theme="dark-green"] .mantine-Month-day {
  min-height: 2.25rem !important;
  min-width: 2.25rem !important;
  line-height: 2.25rem !important;
}
[data-theme="dark-black"] .mantine-Month-weekday,
[data-theme="dark-gray"] .mantine-Month-weekday,
[data-theme="dark-green"] .mantine-Month-weekday {
  min-width: 2.25rem !important;
  height: 2.25rem !important;
  line-height: 2.25rem !important;
  text-align: center !important;
}

/* Unscoped sizing + centering so header and days align even when rendered in a portal */
.mantine-Month-day {
  min-height: 2.25rem !important;
  min-width: 2.25rem !important;
  line-height: 2.25rem !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
}
.mantine-Month-weekday {
  min-width: 2.25rem !important;
  height: 2.25rem !important;
  line-height: 2.25rem !important;
  text-align: center !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
}
[data-theme="dark-black"] .mantine-CalendarHeader-label,
[data-theme="dark-black"] .mantine-Month-weekday,
[data-theme="dark-black"] .mantine-Month-day,
[data-theme="dark-gray"] .mantine-CalendarHeader-label,
[data-theme="dark-gray"] .mantine-Month-weekday,
[data-theme="dark-gray"] .mantine-Month-day,
[data-theme="dark-green"] .mantine-CalendarHeader-label,
[data-theme="dark-green"] .mantine-Month-weekday,
[data-theme="dark-green"] .mantine-Month-day {
  color: var(--panel-text) !important;
}

/* Avoid red weekends - keep same as panel text */
[data-theme="dark-black"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-black"] .mantine-Month-day[data-weekend],
[data-theme="dark-gray"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-gray"] .mantine-Month-day[data-weekend],
[data-theme="dark-green"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-green"] .mantine-Month-day[data-weekend] {
  color: var(--panel-text) !important;
}

/* NOW override weekday labels to be bright white - this must come LAST */
[data-theme="dark-black"] .mantine-Month-weekday,
[data-theme="dark-gray"] .mantine-Month-weekday,
[data-theme="dark-green"] .mantine-Month-weekday {
  color: rgba(255, 255, 255, 0.95) !important;
  font-weight: 500;
}

/* Unscoped for portal-mounted calendars */
.mantine-Month-weekday {
  color: rgba(255, 255, 255, 0.95) !important;
  font-weight: 500;
}

/* Ensure weekend weekdays also stay white */
[data-theme="dark-black"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-gray"] .mantine-Month-weekday[data-weekend],
[data-theme="dark-green"] .mantine-Month-weekday[data-weekend] {
  color: rgba(255, 255, 255, 0.95) !important;
}

.mantine-Month-weekday[data-weekend] {
  color: rgba(255, 255, 255, 0.95) !important;
}
/* Hover state - blackish background on dark themes */
[data-theme="dark-black"] .mantine-Month-day:hover,
[data-theme="dark-gray"] .mantine-Month-day:hover,
[data-theme="dark-green"] .mantine-Month-day:hover {
  background: rgba(0, 0, 0, 0.3) !important;
  color: rgba(255, 255, 255, 0.95) !important;
}
/* Hover */
[data-theme="dark-black"] .mantine-Month-day,
[data-theme="dark-gray"] .mantine-Month-day,
[data-theme="dark-green"] .mantine-Month-day {
  /* Increase day cell height/size for better touch/visual spacing */
  min-height: 2.25rem !important; /* ~36px -> 36px+ */
  min-width: 2.25rem !important;
  line-height: 2.25rem !important;
}
[data-theme="dark-black"] .mantine-Month-weekday,
[data-theme="dark-gray"] .mantine-Month-weekday,
[data-theme="dark-green"] .mantine-Month-weekday {
  min-width: 2.25rem !important;
  height: 2.25rem !important;
  line-height: 2.25rem !important;
  text-align: center !important;
}
/* Unscoped sizing + centering so header and days align even when rendered in a portal */
.mantine-Month-day {
  min-height: 2.25rem !important;
  min-width: 2.25rem !important;
  line-height: 2.25rem !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
}
.mantine-Month-weekday {
  min-width: 2.25rem !important;
  height: 2.25rem !important;
  line-height: 2.25rem !important;
  text-align: center !important;
}
[data-theme="dark-black"] .mantine-Month-day:hover,
[data-theme="dark-gray"] .mantine-Month-day:hover,
[data-theme="dark-green"] .mantine-Month-day:hover {
  /* Dark hover surface for better contrast in dark themes */
  background: rgba(0, 0, 0, 0.24) !important; /* blackish hover */
  color: var(--panel-text, #e5e7eb) !important;
}
/* Unscoped fallback for hover when portal content has no theme attrs */
.mantine-Month-day:hover {
  background: rgba(0, 0, 0, 0.24) !important;
  color: var(--panel-text, #e5e7eb) !important;
}

/* Driver.js theming - make tour controls follow app theme and use Mongolian labels */
.driver,
.driver * {
  color: var(--panel-text) !important;
}
.driver-tooltip,
.driver-step {
  background: color-mix(in oklch, var(--surface-bg), transparent 0%) !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
  box-shadow: 0 12px 40px
    color-mix(in oklch, var(--glass-shadow), transparent 30%) !important;
}
.driver-tooltip .driver-title {
  color: var(--panel-text) !important;
  font-weight: 700;
}
.driver-tooltip .driver-description {
  color: var(--panel-text) !important;
}
.driver .driver-btn,
.driver-tooltip .driver-btn {
  background: var(--primary) !important;
  color: var(--primary-foreground, #fff) !important;
  border: 1px solid color-mix(in oklch, var(--primary), transparent 30%) !important;
  padding: 0.45rem 0.75rem !important;
  border-radius: 0.6rem !important;
  box-shadow: 0 8px 20px
    color-mix(in oklch, var(--glass-shadow), transparent 30%) !important;
}
.driver .driver-btn:hover,
.driver-tooltip .driver-btn:hover {
  filter: brightness(1.06) !important;
}
.driver .driver-prev-btn {
  background: color-mix(in oklch, var(--surface-bg), black 6%) !important;
  color: var(--panel-text) !important;
}
.driver .driver-close-btn {
  background: transparent !important;
  color: var(--panel-text) !important;
  border: 1px solid var(--surface-border) !important;
}

/* Ensure progress / pagination uses theme */
.driver .driver-pagination {
  color: var(--panel-text) !important;
}

/* Unscoped popover fallback so dropdown text is white on dark even in portals */
.mantine-Popover-dropdown {
  background: var(--surface-bg, #0f172a) !important; /* dark surface fallback */
  color: var(--panel-text, #e5e7eb) !important; /* light text fallback */
  border: 1px solid var(--surface-border, rgba(255, 255, 255, 0.12)) !important;
}
.mantine-Popover-dropdown .mantine-Paper-root {
  background: var(--surface-bg, #0f172a) !important;
  color: var(--panel-text, #e5e7eb) !important;
  border-color: var(--surface-border, rgba(255, 255, 255, 0.12)) !important;
}
.action-edit,
.action-edit svg {
  color: #2563eb !important;
} /* tailwind blue-600 */
.action-delete,
.action-delete svg {
  color: #dc2626 !important;
} /* tailwind red-600 */

/* Optional hover bg without changing text color */
.action-edit:hover,
.action-delete:hover {
  background: color-mix(in oklch, var(--glass-tint-2), white 8%);
}
/* Optional helper if any dropdown still hides behind things */
.dropdown-elev {
  z-index: 90;
}
/* Buttons that visually match the frosted background */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.45rem 0.75rem;
  font-size: 0.92rem;
  line-height: 1;
  border-radius: 0.75rem;
  background: var(--btn-bg);
  color: var(--btn-text);
  border: 1px solid var(--btn-border);
  -webkit-backdrop-filter: blur(32px) saturate(140%);
  backdrop-filter: blur(32px) saturate(140%);
  transition: transform 140ms ease, background 140ms ease, box-shadow 140ms ease;
  cursor: pointer;
}

.btn:hover {
  background: var(--btn-bg-hover);
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(8, 18, 24, 0.1);
}
.btn:active {
  background: var(--btn-bg-active);
  transform: translateY(0);
}

/* Primary button variant (slightly stronger tint) */
.btn-primary {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08),
    rgba(255, 255, 255, 0.04)
  );
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--btn-text);
}
.btn-ghost {
  background: transparent;
  border: 1px dashed rgba(255, 255, 255, 0.04);
  color: var(--btn-text);
}

/* Icon color helpers */
.icon {
  color: var(--icon-color);
  display: inline-flex;
  align-items: center;
}
.icon-muted {
  color: var(--icon-muted);
}

.table-custom,
.table-custom th,
.table-custom td {
  color: oklch(0.145 0 0) !important; /* dark text */
}

/* Optional: make the table background explicit */
.table-custom {
  background-color: #f5eeeed7;
}

/* If you want header text dark as well (recommended for white header bg) */
.table-custom thead th,
.table-custom thead tr {
  color: oklch(0.145 0 0) !important;
}

.fg-btn {
  @apply inline-flex items-center;
}

/* ...existing code... */
:root {
  /* ...existing vars... */
  --bar-bg: #0042f8; /* indigo-600 */
  --btn-bg: #f8fafc; /* slate-50 */
  --btn-text: #0f172a; /* slate-900 */
}

/* Primary action background that looks good on white/gray */
.bg-bar {
  background-color: var(--bar-bg) !important;
}

/* Neutral button that is visible on white backgrounds */
.btn {
  background-color: var(--btn-bg);
  color: var(--btn-text);
  border: 1px solid #e5e7eb; /* gray-200 */
}

/* Ensure table text is dark on white bg */
.table-custom,
.table-custom th,
.table-custom td {
  color: #0f172a !important; /* slate-900 */
}

/* Make sure generic 'icon' class doesn’t force white (if it exists) */
.icon {
  color: inherit;
}

/* Neumorphism button */
:root {
  --neu-bg: #eef2f7; /* surface */
  --neu-text: #0f172a; /* slate-900 */
  --neu-light: #ffffff; /* top-left highlight */
  --neu-dark: rgba(13, 32, 56, 0.14); /* bottom-right shadow (soft blue tint) */
}

.btn-neu {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.55rem 0.9rem;
  border-radius: 14px;
  background: var(--neu-bg);
  color: var(--neu-text);
  border: 1px solid rgba(255, 255, 255, 0.7); /* subtle rim */
  box-shadow: -8px -8px 16px var(--neu-light), 8px 8px 16px var(--neu-dark);
  transition: transform 120ms ease, box-shadow 160ms ease, color 120ms ease;
}
.btn-neu {
  position: relative;
  z-index: 0;
} /* allow pseudo-element glow */

/* Under-glow (only beneath the button) */
.btn-neu-glow-under {
  --neo-under-r: 255; /* amber */
  --neo-under-g: 184;
  --neo-under-b: 60;
  --neo-under-a1: 0.42; /* inner intensity */
  --neo-under-a2: 0.18; /* outer feather */
}
.btn-neu-glow-under::after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -8px; /* how far the glow drops below */
  width: 70%; /* smaller than button */
  height: 16px; /* small halo strip */
  pointer-events: none;
  z-index: -1;
  /* elliptical halo that fades outward */
  background: radial-gradient(
    120% 140% at 50% 0%,
    rgba(
        var(--neo-under-r),
        var(--neo-under-g),
        var(--neo-under-b),
        var(--neo-under-a1)
      )
      0%,
    rgba(
        var(--neo-under-r),
        var(--neo-under-g),
        var(--neo-under-b),
        var(--neo-under-a2)
      )
      45%,
    transparent 70%
  );
  filter: blur(10px);
}
.btn-neu-glow-under:hover::after {
  filter: blur(12px);
  opacity: 1;
}
.btn-neu-glow-under:active::after,
.btn-neu-glow-under.is-active::after {
  filter: blur(8px);
  opacity: 0.9;
}

/* Optional: thin warm rim on the bottom edge */
.btn-neu-glow-under::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  mask: linear-gradient(
    to top,
    rgba(0, 0, 0, 1) 0%,
    rgba(0, 0, 0, 0) 55%
  ); /* show only bottom */
  box-shadow: 0 -1px 0 0 rgba(255, 184, 60, 0.55) inset;
}

.btn-neu:hover {
  box-shadow: -10px -10px 20px var(--neu-light), 10px 10px 20px var(--neu-dark);
  transform: translateY(-1px);
}

.btn-neu:active,
.btn-neu.is-active,
.btn-neu[aria-pressed="true"] {
  box-shadow: inset 8px 8px 16px var(--neu-dark),
    inset -8px -8px 16px var(--neu-light);
  transform: translateY(0);
}

.btn-neu:focus-visible {
  outline: none;
  box-shadow: -8px -8px 16px var(--neu-light), 8px 8px 16px var(--neu-dark),
    0 0 0 4px rgba(59, 130, 246, 0.15); /* soft focus ring */
}

.btn-neu .icon {
  color: currentColor; /* keep icon color in sync */
}

/* Small size (optional) */
.btn-neu-sm {
  padding: 0.4rem 0.7rem;
  border-radius: 12px;
  font-size: 0.9rem;
}

/* Sizes */
.btn-neu-lg {
  padding: 0.9rem 1.25rem;
  border-radius: 16px;
  font-size: 1rem;
  font-weight: 600;
}

/* Primary (more contrast for CTAs) */
.btn-neu-primary {
  background: linear-gradient(145deg, #f3f6fb, #e6ecf4);
  border-color: rgba(15, 23, 42, 0.06);
  box-shadow: -10px -10px 20px var(--neu-light), 10px 10px 20px var(--neu-dark);
}
.btn-neu-primary:hover {
  box-shadow: -12px -12px 24px var(--neu-light), 12px 12px 24px var(--neu-dark);
}
.btn-neu-primary:active,
.btn-neu-primary.is-active,
.btn-neu-primary[aria-pressed="true"] {
  box-shadow: inset 10px 10px 20px var(--neu-dark),
    inset -10px -10px 20px var(--neu-light);
}

/* Neumorphism glow — soft outer halo like the screenshot */
@keyframes neo-glow-pulse {
  0%,
  100% {
    --neo-glow-alpha: 0.22;
    --neo-glow-alpha-2: 0.12;
  }
  50% {
    --neo-glow-alpha: 0.33;
    --neo-glow-alpha-2: 0.2;
  }
}

.btn-neu,
.btn-neu-primary {
  /* keep original shadow via a variable so we can append glow */
  --btn-neu-elev: -10px -10px 20px var(--neu-light),
    10px 10px 20px var(--neu-dark);
  box-shadow: var(--btn-neu-elev);
}

/* Base glow variant (amber by default) */
.btn-neu-glow {
  --neo-glow-r: 255; /* glow color (RGB) */
  --neo-glow-g: 170;
  --neo-glow-b: 40;
  --neo-glow-alpha: 0.26; /* main halo */
  --neo-glow-alpha-2: 0.14; /* outer halo */
  position: relative;
  /* keep elevation + add layered glow rings */
  box-shadow: var(--btn-neu-elev),
    0 0 0 2px rgba(var(--neo-glow-r), var(--neo-glow-g), var(--neo-glow-b), 0.1),
    0 6px 20px
      rgba(
        var(--neo-glow-r),
        var(--neo-glow-g),
        var(--neo-glow-b),
        var(--neo-glow-alpha)
      ),
    0 0 40px 14px
      rgba(
        var(--neo-glow-r),
        var(--neo-glow-g),
        var(--neo-glow-b),
        var(--neo-glow-alpha-2)
      );
  /* extra soft glow that extends further out */
  filter: drop-shadow(
      0 0 10px
        rgba(var(--neo-glow-r), var(--neo-glow-g), var(--neo-glow-b), 0.25)
    )
    drop-shadow(
      0 0 28px
        rgba(var(--neo-glow-r), var(--neo-glow-g), var(--neo-glow-b), 0.18)
    );
}

.btn-neu-glow:hover {
  --neo-glow-alpha: 0.34;
  --neo-glow-alpha-2: 0.22;
  transform: translateY(-1px);
}

.btn-neu-glow:active,
.btn-neu-glow.is-active {
  --neo-glow-alpha: 0.22;
  --neo-glow-alpha-2: 0.12;
  box-shadow: inset 10px 10px 20px var(--neu-dark),
    inset -10px -10px 20px var(--neu-light),
    0 0 0 2px rgba(var(--neo-glow-r), var(--neo-glow-g), var(--neo-glow-b), 0.1),
    0 6px 20px
      rgba(var(--neo-glow-r), var(--neo-glow-g), var(--neo-glow-b), 0.2),
    0 0 30px 10px
      rgba(var(--neo-glow-r), var(--neo-glow-g), var(--neo-glow-b), 0.14);
}

/* Optional pulsing animation */
.btn-neu-glow-pulse {
  animation: neo-glow-pulse 2.4s ease-in-out infinite;
}

/* Quick color utilities */
.btn-neu-glow-amber {
  --neo-glow-r: 255;
  --neo-glow-g: 180;
  --neo-glow-b: 60;
}
.btn-neu-glow-blue {
  --neo-glow-r: 80;
  --neo-glow-g: 160;
  --neo-glow-b: 255;
}
.btn-neu-glow-green {
  --neo-glow-r: 68;
  --neo-glow-g: 214;
  --neo-glow-b: 120;
}
.btn-neu-glow-rose {
  --neo-glow-r: 255;
  --neo-glow-g: 130;
  --neo-glow-b: 150;
}

/* Circular version (for icon or round actions) */
.btn-neu-round {
  border-radius: 9999px;
  width: 3.25rem;
  height: 3.25rem;
  padding: 0;
  justify-content: center;
}

/* Minimalist filled button (blueish tone matching the background) */
.btn-minimal {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.65rem 1rem;
  border-radius: 12px;
  background: linear-gradient(
    145deg,
    #ebf0fc,
    #dce5f8
  ); /* soft blue-gray gradient */
  color: #0f172a; /* slate-900 for contrast */
  border: 1px solid rgba(59, 130, 246, 0.12); /* subtle indigo rim */
  font-size: 0.95rem;
  font-weight: 500;
  text-align: center;
  transition: transform 120ms ease, background 140ms ease, box-shadow 140ms ease;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08); /* very soft blue shadow */
}

.btn-minimal:hover {
  background: linear-gradient(145deg, #e4ecfa, #d4dfed);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.14);
}
.btn-minimal-add {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.65rem 1rem;
  border-radius: 12px;

  /* Glassy neomorphism background */
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.6)
  );
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  color: #0f172a;
  border: 1px solid rgba(255, 255, 255, 0.5);
  font-size: 0.95rem;
  font-weight: 500;
  text-align: center;
  cursor: pointer;

  /* Neomorphism shadows - both inset and outer */
  box-shadow: 
    /* Outer glow */ 0 4px 16px rgba(59, 130, 246, 0.12),
    /* Light source top-left */ -4px -4px 12px rgba(255, 255, 255, 0.5),
    /* Shadow bottom-right */ 4px 4px 12px rgba(59, 130, 246, 0.15),
    /* Inner highlight */ inset 0 1px 2px rgba(255, 255, 255, 0.8);

  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-minimal-add:hover {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.95),
    rgba(255, 255, 255, 0.7)
  );
  transform: translateY(-2px);

  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.18),
    -5px -5px 15px rgba(255, 255, 255, 0.6),
    5px 5px 15px rgba(59, 130, 246, 0.2),
    inset 0 1px 3px rgba(255, 255, 255, 0.9);
}

.btn-minimal-add:active {
  transform: translateY(0);

  /* Pressed-in neomorphism effect */
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1),
    inset 2px 2px 8px rgba(59, 130, 246, 0.15),
    inset -2px -2px 8px rgba(255, 255, 255, 0.7);
}

/* Plus icon */
.btn-minimal-add::before {
  content: "+";
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1;
}
:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus-ring);
}

/* Button focus overrides (keep button-specific shadows + add ring) */
.btn:focus-visible {
  box-shadow: 0 0 0 3px var(--focus-ring);
}

.btn-neu:focus-visible {
  box-shadow: -8px -8px 16px var(--neu-light), 8px 8px 16px var(--neu-dark),
    0 0 0 4px var(--focus-ring);
}

.btn-neu-primary:focus-visible {
  box-shadow: -10px -10px 20px var(--neu-light), 10px 10px 20px var(--neu-dark),
    0 0 0 4px var(--focus-ring);
}

.btn-neu-pro:focus-visible {
  box-shadow: 0 14px 34px rgba(14, 30, 60, 0.16),
    -12px -12px 24px var(--neu-light), 12px 12px 24px var(--neu-dark),
    0 0 0 4px var(--focus-ring);
}

.btn-minimal:focus-visible {
  box-shadow: 0 0 0 3px var(--focus-ring);
}

.btn-minimal-ghost:focus-visible {
  box-shadow: 0 0 0 3px var(--focus-ring);
}

/* Accent button focus (keep accent color ring) */
.btn-neu-accent-blue:focus-visible,
.btn-neu-accent-violet:focus-visible,
.btn-neu-accent-amber:focus-visible {
  outline: none;
  box-shadow: -10px -10px 20px var(--neu-light), 10px 10px 20px var(--neu-dark),
    0 0 0 4px
      rgba(var(--neo-accent-r), var(--neo-accent-g), var(--neo-accent-b), 0.28);
}

/* Input focus ring (neu style) */
.neu-input:focus {
  outline: none;
  box-shadow: inset 6px 6px 12px rgba(13, 32, 56, 0.08),
    inset -6px -6px 12px rgba(255, 255, 255, 0.8), 0 0 0 4px var(--focus-ring);
}

/* Standard input focus */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus-ring);
}
.btn-minimal:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.1);
}

.btn-minimal:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

/* Large size for primary actions */
.btn-minimal-lg {
  padding: 0.85rem 1.4rem;
  font-size: 1rem;
  font-weight: 600;
}

/* Small size for pagination and compact actions */
.btn-minimal-sm {
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
  font-weight: 500;
}

/* Ghost variant (same fill but lighter, for secondary actions) */
.btn-minimal-ghost {
  background: linear-gradient(145deg, #f4f7fb, #eef2f7);
  border-color: rgba(15, 23, 42, 0.08);
  box-shadow: 0 2px 6px rgba(13, 32, 56, 0.05);
}
.btn-minimal-ghost:hover {
  background: linear-gradient(145deg, #f0f4f9, #e8ecf1);
  box-shadow: 0 4px 12px rgba(13, 32, 56, 0.08);
}

/* Live background: soft teal/gray gradient + animated color blobs */
@keyframes bg-blobs-pan {
  0%,
  100% {
    transform: translate3d(-2%, -1%, 0) scale(1);
  }
  50% {
    transform: translate3d(2%, 1%, 0) scale(1.03);
  }
}

html,
body {
  /* was a fixed linear-gradient; tie it to the theme variable */
  background: var(--gradient-bg);
  color: var(--neu-text);
  min-height: 100vh;
}
.frosted-dropdown {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(100px) saturate(180%);
  -webkit-backdrop-filter: blur(100px) saturate(180%);
  box-shadow: 0 8px 32px rgba(14, 30, 60, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.6), 0 1px 3px rgba(255, 255, 255, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.5);
}

/* Enhanced blur support check */
@supports (backdrop-filter: blur(100px)) or
  (-webkit-backdrop-filter: blur(100px)) {
  .frosted-dropdown {
    background: rgba(255, 255, 255, 0.15);
  }
}

/* Fallback for browsers without backdrop-filter */
@supports not (
  (backdrop-filter: blur(100px)) or (-webkit-backdrop-filter: blur(100px))
) {
  .frosted-dropdown {
    background: rgba(248, 250, 252, 0.92);
  }
}
/* soft moving blobs (cooler tones to match teal/gray bg) */
body::before {
  content: "";
  position: fixed;
  inset: -10%;
  z-index: -2;
  pointer-events: none;
  background: radial-gradient(
      40% 32% at 15% 20%,
      rgba(139, 190, 218, 0.2),
      transparent 60%
    ),
    radial-gradient(
      36% 28% at 85% 25%,
      rgba(96, 165, 250, 0.18),
      transparent 60%
    ),
    radial-gradient(
      42% 34% at 50% 85%,
      rgba(147, 197, 253, 0.14),
      transparent 65%
    ),
    radial-gradient(
      30% 26% at 75% 80%,
      rgba(186, 230, 253, 0.1),
      transparent 70%
    );
  filter: blur(42px) saturate(115%);
  animation: bg-blobs-pan 22s ease-in-out infinite;
}

/* ultra subtle grain for depth */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  opacity: 0.04;
  background-image: radial-gradient(
      circle at 25% 20%,
      rgba(0, 0, 0, 0.08) 0 1px,
      transparent 1px
    ),
    radial-gradient(
      circle at 75% 60%,
      rgba(0, 0, 0, 0.08) 0 1px,
      transparent 1px
    );
  background-size: 3px 3px, 4px 4px;
}

/* Reduced motion: keep it still */
@media (prefers-reduced-motion: reduce) {
  body::before {
    animation: none;
  }
}

/* ==========================
   Responsive base utilities
   ========================== */
/* Prevent accidental horizontal scroll and ensure full-bleed background behaves on small screens */
html,
body {
  overflow-x: hidden;
}

/* Make media elements scale down within containers */
img,
video,
canvas,
svg,
iframe {
  max-width: 100%;
  height: auto;
}

/* Common full-cover helper for hero banners or cards */
.media-cover img,
.media-cover video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Tables span the container and scroll horizontally when needed */
table {
  width: 100%;
  border-collapse: collapse;
}
.table-wrap {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Generic responsive container and inner padding helpers */
.container-responsive {
  width: 100%;
  max-width: 1440px;
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(12px, 4vw, 24px);
  padding-right: clamp(12px, 4vw, 24px);
}
.content-responsive {
  padding: clamp(8px, 2.5vw, 24px);
}

/* Form controls should not overflow on small screens */
input,
select,
textarea,
.ant-input,
.mantine-Input-input {
  max-width: 100%;
}

/* Modals default to safe viewport-fitting sizes; component classes can override via CSS vars */
.modal-surface {
  max-width: min(100vw, var(--modal-max-w, 100%));
  max-height: min(92svh, 92vh);
}

/* Ensure tables and long content inside modals scroll instead of overflowing the viewport */
.modal-surface .table-wrap,
.modal-surface .modal-body-scroll,
.modal-surface .content-scroll {
  overflow: auto;
  max-height: calc(92svh - 96px);
}

/* Small-screen overrides: make fixed-width utilities fluid and improve modal behavior */
@media (max-width: 640px) {
  /* Any arbitrary fixed width utility (e.g., w-[380px]) becomes fluid on mobile */
  [class*="w-\["] {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Ant Design modal/content should fit the viewport nicely */
  .ant-modal {
    max-width: 100vw !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  .ant-modal .ant-modal-content {
    max-width: 100vw !important;
    border-radius: 0.75rem !important;
  }

  /* Mantine modal content uses viewport width on mobile */
  .mantine-Modal-content {
    width: 96vw !important;
    max-width: 96vw !important;
  }
  .mantine-Modal-body {
    max-height: calc(100svh - 120px);
    overflow: auto;
  }

  /* Date pickers and text inputs stretch full width when placed in toolbars */
  .mantine-DatePickerInput-root,
  .mantine-Input-wrapper,
  .mantine-Input-input {
    width: 100% !important;
  }
}

/* Neumorphism vars updated for the cooler bg */
:root {
  --neu-bg: #d8e3ec; /* cooler off-white surface */
  --neu-text: #0f172a; /* slate-900 */
  --neu-light: rgba(255, 255, 255, 0.85); /* softer top-left highlight */
  --neu-dark: rgba(13, 42, 66, 0.16); /* cooler bottom-right shadow */
  --focus-ring: rgba(59, 130, 246, 0.32); /* blue focus ring */
}

/* Buttons now pop with stronger blue gradient and clearer shadow */

/* Final override: make minimal + ghost use role variables */
.btn-minimal,
.btn-minimal-ghost {
  background: var(--btn-bg) !important;
  color: var(--btn-text) !important;
  border: 1px solid var(--btn-border) !important;
  border-radius: 0.75rem;
  transition: background 0.15s ease, box-shadow 0.15s ease;
}
.btn-minimal:hover,
.btn-minimal-ghost:hover {
  background: var(--btn-bg-hover) !important;
}
.btn-minimal:active,
.btn-minimal-ghost:active {
  background: var(--btn-bg-active) !important;
}

/* Role tokens (keep here so they apply last) */
.btn-save {
  --btn-bg: linear-gradient(145deg, #dce3fc, #bbd0f7);
  --btn-bg-hover: #bbd5f7;
  --btn-bg-active: #a7aff3;
  --btn-text: #06225f;
  --btn-border: rgba(16, 41, 185, 0.35);
}
.btn-cancel {
  --btn-bg: linear-gradient(145deg, #fef2f2, #fee2e2);
  --btn-bg-hover: #fee2e2;
  --btn-bg-active: #fecaca;
  --btn-text: #7f1d1d;
  --btn-border: rgba(239, 68, 68, 0.28);
}
.btn-print {
  /* Gray-blackish look with good contrast */
  --btn-bg: linear-gradient(
    145deg,
    #1f2937,
    #0f172a
  ); /* slate-800 → slate-900 */
  --btn-bg-hover: #0f172a; /* slate-900 */
  --btn-bg-active: #020617; /* slate-950 */
  --btn-text: #e5e7eb; /* slate-200 for contrast */
  --btn-border: rgba(255, 255, 255, 0.16);
}

.btn-download {
  --btn-bg: linear-gradient(145deg, #dddff7, #c0bff0);
  --btn-bg-hover: #bfc4f0;
  --btn-bg-active: #9ea5e8;
  --btn-text: #060d4e; /* deep teal */
  --btn-border: rgba(6, 7, 78, 0.16);
}

/* Wizard navigation roles */
.btn-next {
  --btn-bg: linear-gradient(145deg, #dbeafe, #bfdbfe); /* light sky-blue */
  --btn-bg-hover: #cfe0fd;
  --btn-bg-active: #bcd1fb;
  --btn-text: #0b3868; /* deep blue text */
  --btn-border: rgba(59, 130, 246, 0.28);
}
.btn-back {
  --btn-bg: linear-gradient(145deg, #f3f4f6, #e5e7eb); /* neutral gray */
  --btn-bg-hover: #e5e7eb;
  --btn-bg-active: #d1d5db;
  --btn-text: #334155; /* slate-700 */
  --btn-border: rgba(100, 116, 139, 0.24);
}

.btn-minimal:focus-visible {
  outline: none;
  box-shadow: 0 0 0 4px var(--focus-ring);
}

/* Tabs – tokens (default colorful) */
:root {
  --tab-active-from: #dbeafe; /* light blue */
  --tab-active-to: #bfdbfe;
  --tab-accent: #3b82f6; /* border underline */
  --tab-active-text: #1e3a8a;
  --tab-inactive-text: rgba(15, 23, 42, 0.7);
  --tab-inactive-hover-text: rgba(15, 23, 42, 0.9);
  --tab-border: color-mix(in oklch, var(--glass-border), transparent 35%);
}

/* White-gray */
[data-theme="white-gray"] {
  --tab-active-from: #f8fafc;
  --tab-active-to: #e2e8f0;
  --tab-accent: #94a3b8;
  --tab-active-text: #0f172a;
  --tab-inactive-text: #475569;
  --tab-inactive-hover-text: #0f172a;
}

/* Dark-gray */
[data-theme="dark-gray"] {
  --tab-active-from: #334155;
  --tab-active-to: #1f2937;
  --tab-accent: #93c5fd;
  --tab-active-text: #e5e7eb;
  --tab-inactive-text: #cbd5e1;
  --tab-inactive-hover-text: #f1f5f9;
}

/* Dark-green */
[data-theme="dark-green"] {
  --tab-active-from: #173f2d;
  --tab-active-to: #0f2a1e;
  --tab-accent: #34d399;
  --tab-active-text: #e6fffa;
  --tab-inactive-text: #bfffea;
  --tab-inactive-hover-text: #ecfeff;
}

/* Tab components */
.tab-btn {
  border-bottom: 2px solid transparent;
  border-radius: 0.75rem 0.75rem 0 0;
  color: var(--tab-inactive-text);
  background: transparent;
  transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
}
.tab-btn:hover {
  color: var(--tab-inactive-hover-text);
  background: color-mix(in oklch, var(--glass-tint), transparent 60%);
}
.tab-btn.is-active {
  color: var(--tab-active-text);
  background: linear-gradient(
    135deg,
    var(--tab-active-from),
    var(--tab-active-to)
  );
  border-bottom-color: var(--tab-accent);
  box-shadow: inset 0 1px 0 color-mix(in oklch, white, transparent 30%);
}

/* Theme button tokens */
:root {
  --btn-bg: rgba(255, 255, 255, 0.14);
  --btn-bg-hover: rgba(255, 255, 255, 0.18);
  --btn-bg-active: rgba(255, 255, 255, 0.12);
  --btn-text: var(--panel-text);
  --btn-border: color-mix(in oklch, var(--glass-border), transparent 40%);
  --focus-ring: rgba(96, 165, 250, 0.32);
}
/* Logo surface tokens: add weak/default/strong tints for light themes */
:root {
  --logo-border: var(--surface-border);
  --logo-bg-weak: color-mix(in oklch, var(--surface-bg), #0f172a 6%);
  --logo-bg: color-mix(in oklch, var(--surface-bg), #0f172a 10%);
  /* Make strong tint more blackish on light themes */
  --logo-bg-strong: color-mix(in oklch, var(--surface-bg), #000000 24%);
}
/* Light theme variants may benefit from a touch more contrast */
[data-theme="white-gray"],
[data-theme="blue-gradient"] {
  --logo-bg-weak: color-mix(in oklch, var(--surface-bg), #0f172a 8%);
  --logo-bg: color-mix(in oklch, var(--surface-bg), #0f172a 12%);
  /* Stronger and blackish for extra contrast on very light palettes */
  --logo-bg-strong: color-mix(in oklch, var(--surface-bg), #000000 28%);
}
/* Dark themes: keep logo surface equal to themed surface */
[data-theme="dark-black"],
[data-theme="dark-gray"],
[data-theme="dark-green"] {
  --logo-bg-weak: var(--surface-bg);
  --logo-bg: var(--surface-bg);
  --logo-bg-strong: var(--surface-bg);
  --logo-border: var(--surface-border);
}
[data-theme="white-gray"] {
  --btn-bg: rgba(255, 255, 255, 0.85);
  --btn-bg-hover: rgba(255, 255, 255, 0.92);
  --btn-bg-active: rgba(255, 255, 255, 0.8);
  --btn-text: #0f172a;
  --btn-border: rgba(15, 23, 42, 0.12);
}
[data-theme="dark-gray"] {
  --btn-bg: rgba(255, 255, 255, 0.08);
  --btn-bg-hover: rgba(255, 255, 255, 0.12);
  --btn-bg-active: rgba(255, 255, 255, 0.06);
  --btn-text: #e5e7eb;
  --btn-border: rgba(255, 255, 255, 0.18);
}
[data-theme="dark-green"] {
  --btn-bg: rgba(255, 255, 255, 0.08);
  --btn-bg-hover: rgba(255, 255, 255, 0.12);
  --btn-bg-active: rgba(255, 255, 255, 0.06);
  --btn-text: #e6fffa;
  --btn-border: rgba(255, 255, 255, 0.18);
}

/* Utilities for themed text */
.text-theme {
  color: var(--panel-text) !important;
}
.text-subtle {
  color: var(--panel-text) !important;
  opacity: 0.7;
}

/* Base: make all input-like controls follow themed text by default */
input,
textarea,
select,
.ant-input,
.ant-input-password input,
.ant-input-number-input,
.ant-select-single .ant-select-selection-item,
.ant-select-selection-search-input,
.ant-picker input,
.ant-picker-input > input {
  color: var(--panel-text);
}

/* Make btn-neu follow theme and remove any glow */
.btn-neu {
  background: linear-gradient(
    145deg,
    var(--btn-bg),
    var(--btn-bg-active)
  ) !important;
  color: var(--btn-text) !important;
  border: 1px solid var(--btn-border) !important;
  box-shadow: -8px -8px 16px var(--neu-light), 8px 8px 16px var(--neu-dark) !important; /* soft neu effect */
  filter: none !important;
}
.btn-neu:hover {
  background: var(--btn-bg-hover) !important;
}
.btn-neu:active {
  background: var(--btn-bg-active) !important;
}
.btn-neu::before,
.btn-neu::after {
  content: none !important;
} /* kill glow pseudo elements */

/* Table: theme text + hover without forcing white rows */
.table-ui {
  color: var(--panel-text);
}
.table-ui thead {
  background: color-mix(in oklch, var(--glass-tint), transparent 68%);
}
.table-ui th,
.table-ui td {
  color: var(--panel-text);
  border-bottom: 1px solid
    color-mix(in oklch, var(--glass-border), transparent 40%);
}
.table-ui tbody tr {
  background: transparent;
  transition: background 0.18s ease;
}
.table-ui tbody tr:hover {
  background: var(
    --table-hover-bg,
    color-mix(in oklch, var(--glass-tint-2), white 8%)
  );
}

/* Reusable hover surface matching table row hover */
.hover-surface {
  transition: background 0.18s ease;
}
.hover-surface:hover {
  /* centralize hover tone so every page feels the same */
  --hover-bg: color-mix(in oklch, var(--glass-tint-2), white 8%);
  background: var(--hover-bg) !important;
}

/* Let specific panels overflow (for dropdowns) */
.neu-panel.allow-overflow {
  overflow: visible;
}

/* Table should span container width */
.table-surface {
  width: 100%;
  height: 2000px;
}

.table-ui {
  width: 100%;
  table-layout: auto;
}

/* Themed buttons (ensure they win cascade) */
.btn-minimal {
  background: var(--btn-bg) !important;
  color: var(--btn-text) !important;
  border: 1px solid var(--btn-border) !important;
  border-radius: 0.75rem;
  transition: background 0.15s ease, box-shadow 0.15s ease;
}
.btn-minimal:hover {
  background: var(--btn-bg-hover) !important; /* same hover across pages */
}
.btn-minimal:active {
  background: var(--btn-bg-active) !important;
}
.btn-minimal:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus-ring) !important;
}

.btn-neu {
  background: var(--btn-bg) !important;
  color: var(--btn-text) !important;
  border: 1px solid var(--btn-border) !important;
  box-shadow: none !important; /* no glow */
}
.btn-neu:hover {
  background: var(--btn-bg-hover) !important;
}
.btn-neu:active {
  background: var(--btn-bg-active) !important;
}
.btn-neu::before,
.btn-neu::after {
  content: none !important;
}

/* === Global hover unification =========================================== */
/* Use the same soft hover for tables, menus, lists, and dropdown options */
:root {
  --hover-bg: color-mix(in oklch, var(--glass-tint-2), white 8%);
  --hover-bg-strong: color-mix(in oklch, var(--glass-tint-2), white 14%);
}

/* Ant Design: table rows */
.ant-table-tbody > tr:hover > td,
.ant-table-tbody > tr.ant-table-row:hover > td {
  background: var(--hover-bg) !important;
}

/* Ant Design: menus and dropdown items */
.ant-dropdown-menu-item:hover,
.ant-dropdown-menu-submenu-title:hover,
.ant-menu-item:hover {
  background: var(--hover-bg) !important;
}
/* AntD: selected dropdown item state */
.ant-dropdown-menu-item-selected,
.ant-dropdown-menu-item-selected:hover {
  background: var(--hover-bg-strong) !important;
}

/* Ant Design: Select options */
.ant-select-item-option-active,
.ant-select-item-option:hover {
  background: var(--hover-bg) !important;
}
.ant-select-item-option-selected,
.ant-select-item-option-selected:not(.ant-select-item-option-disabled) {
  background: var(--hover-bg-strong) !important;
}

/* Ant Design: buttons (neutralize theme differences) */
.ant-btn:not([disabled]):hover,
.ant-btn:not([disabled]):focus {
  background: var(--btn-bg-hover) !important;
  color: var(--btn-text) !important;
  border-color: var(--btn-border) !important;
}

/* Mantine: table rows and nav links (when present) */
.mantine-Table-tr:hover {
  background: var(--hover-bg) !important;
}
.mantine-NavLink-root:hover {
  background: var(--hover-bg) !important;
}
/* Mantine: menu items and tabs hover */
.mantine-Menu-item:hover {
  background: var(--hover-bg) !important;
}
.mantine-Tabs-tab:hover {
  background: var(--hover-bg) !important;
}

/* Generic lists/cards using common classes */
.card:hover,
.list-item:hover,
.row-hover:hover {
  background: var(--hover-bg) !important;
}

/* Keep dropdowns consistent: Mantine combobox already themed above */
.mantine-Combobox-option[data-hovered] {
  background: var(--hover-bg) !important;
}
.mantine-Combobox-option[data-selected] {
  background: var(--hover-bg-strong) !important;
}

/* Dark themes: ensure select input uses dark surfaces (no white hover) */
[data-theme="dark-black"] .mantine-Select-root .mantine-Input-input,
[data-theme="dark-gray"] .mantine-Select-root .mantine-Input-input,
[data-theme="dark-green"] .mantine-Select-root .mantine-Input-input {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
}
[data-theme="dark-black"]
  .mantine-Select-root
  .mantine-Input-input::placeholder,
[data-theme="dark-gray"] .mantine-Select-root .mantine-Input-input::placeholder,
[data-theme="dark-green"]
  .mantine-Select-root
  .mantine-Input-input::placeholder {
  color: rgba(229, 231, 235, 0.7) !important;
}
[data-theme="dark-black"] .mantine-Combobox-dropdown,
[data-theme="dark-gray"] .mantine-Combobox-dropdown,
[data-theme="dark-green"] .mantine-Combobox-dropdown {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
}

/* TusgaiZagvar component neu-panel styling */
.tusgaiZagvar .btn-neu {
  background: linear-gradient(
    180deg,
    var(--glass-tint),
    var(--glass-tint-2)
  ) !important;
  -webkit-backdrop-filter: blur(28px) saturate(160%) !important;
  backdrop-filter: blur(28px) saturate(160%) !important;
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 40%) !important;
  box-shadow: 0 18px 48px var(--glass-shadow),
    inset 0 1px 0 var(--glass-highlight) !important;
  color: var(--panel-text) !important;
  background-clip: padding-box !important;
}

/* Ensure TusgaiZagvar dropdown follows neu-panel theme */
.tusgaiZagvar .menu-surface {
  background: linear-gradient(
    180deg,
    var(--glass-tint),
    var(--glass-tint-2)
  ) !important;
  -webkit-backdrop-filter: blur(28px) saturate(160%) !important;
  backdrop-filter: blur(28px) saturate(160%) !important;
  border: 1px solid color-mix(in oklch, var(--glass-border), transparent 40%) !important;
  box-shadow: 0 18px 48px var(--glass-shadow),
    inset 0 1px 0 var(--glass-highlight) !important;
  color: var(--panel-text) !important;
  background-clip: padding-box !important;
}

/* === Global responsiveness helpers ===================================== */
/* Fluid root font size for better readability across devices */
html {
  font-size: clamp(14px, 1.1vw + 10px, 16px);
}

/* Media embeds scale within containers */
img,
video,
canvas,
svg {
  max-width: 100%;
  height: auto;
}

/* Prevent layout breaks on long words/IDs */
.prose,
.text-content,
.table-ui,
.neu-panel,
.neu-table {
  word-break: break-word;
  overflow-wrap: anywhere;
}

/* Make all neumorphic tables scroll horizontally on small screens */
.neu-table {
  overflow-x: auto;
}
.table-ui {
  min-width: 640px;
}

/* Reduce padding on smaller screens where appropriate (container-like areas) */
@media (max-width: 640px) {
  .px-8 {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  .py-6 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }
}

/* Mobile search button without backdrop-filter to fix touch issues */
.mobile-search-btn {
  background: var(--surface-bg);
  color: var(--panel-text);
  border: 1px solid var(--surface-border);
  border-radius: 9999px;
  transition: transform 0.3s ease;
  padding: 0.5rem;
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-user-drag: none;
  pointer-events: auto !important;
}

.mobile-search-btn:active {
  transform: scale(0.95);
}

/* Remove backdrop-filter on mobile for nav to fix touch issues */
@media (max-width: 768px) {
  .neu-nav {
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    background: var(--surface-bg) !important;
    position: relative !important;
  }
}
.mantine-DatePicker-month .mantine-Month-weekday,
body .mantine-Month-weekday {
  color: rgba(255, 255, 255, 0.95) !important;
  font-weight: 500 !important;
}

/* ================== New theme: soft-sage (light + dark) ================== */
/* A gentle sage/teal palette designed to be easy on the eyes. */
[data-theme="soft-sage"] {
  /* Soft Green → Navy Blue background */
  --gradient-bg: linear-gradient(
    135deg,
    #eaf7f0 0%,
    #d9f1e7 35%,
    #9fd3c0 55%,
    #0f1730 100%
  );
  /* Light surfaces + readable dark text */
  --surface-bg: #ffffff; /* remove yellow tint */
  --surface-border: rgba(15, 23, 42, 0.12);
  --panel-text: #0f172a;
  /* Glass tokens tuned for subtle depth on light backgrounds */
  --glass-tint: rgba(255, 255, 255, 0.92);
  --glass-tint-2: rgba(255, 255, 255, 0.84);
  --glass-border: rgba(15, 23, 42, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.6);
  --glass-shadow: rgba(6, 32, 24, 0.12);

  /* Tabs (light) */
  --tab-active-from: #ecfdf5; /* emerald-50 */
  --tab-active-to: #d1fae5; /* emerald-100 */
  --tab-accent: #34d399; /* emerald-400 */
  --tab-active-text: #064e3b; /* emerald-900 */
  --tab-inactive-text: #475569; /* slate-600 */
  --tab-inactive-hover-text: #0f172a; /* slate-900 */

  /* Buttons (light) */
  --btn-bg: rgba(255, 255, 255, 0.9);
  --btn-bg-hover: rgba(255, 255, 255, 0.95);
  --btn-bg-active: rgba(255, 255, 255, 0.85);
  --btn-text: #0f172a;
  --btn-border: rgba(15, 23, 42, 0.12);

  /* Logo surfaces on very light palette: add slight contrast */
  --logo-border: var(--surface-border);
  --logo-bg-weak: color-mix(in oklch, var(--surface-bg), #0f172a 8%);
  --logo-bg: color-mix(in oklch, var(--surface-bg), #0f172a 12%);
  --logo-bg-strong: color-mix(in oklch, var(--surface-bg), #000000 28%);
}

/* === Date Picker theming (Mantine + AntD) ================================ */
/* Goals:
   - Weekends red
   - Previous/next month days gray
   - Current month weekdays: white on dark mode, black on light mode
   - Clear date range states (first/last/in-range)
*/

/* Mantine: base day colors by context */
/* Light mode current-month weekdays */
:not([data-mode="dark"])
  .mantine-Month-day:not([data-outside]):not([data-weekend]) {
  color: #0f172a !important; /* slate-900 */
}
/* Dark mode current-month weekdays */
[data-mode="dark"] .mantine-Month-day:not([data-outside]):not([data-weekend]) {
  color: #ffffff !important;
}
/* Weekends (both modes, in-view) */
.mantine-Month-weekday[data-weekend] {
  color: #dc2626 !important; /* red-600 */
  font-weight: 600 !important;
}
.mantine-Month-day[data-weekend]:not([data-outside]) {
  color: #dc2626 !important; /* red-600 */
}
/* Header labels: black on light, white on dark; weekend headers red */
:not([data-mode="dark"]) .mantine-Month-weekday {
  color: #0f172a !important;
}
[data-mode="dark"] .mantine-Month-weekday {
  color: #ffffff !important;
}
.mantine-Month-weekday[data-weekend] {
  color: #dc2626 !important;
}
/* Out-of-month days */
.mantine-Month-day[data-outside] {
  color: #94a3b8 !important; /* slate-400 */
}
[data-mode="dark"] .mantine-Month-day[data-outside] {
  color: #64748b !important; /* slate-500 on dark */
}

/* Range selection visuals (use theme accent where available) */
.mantine-Month-day[data-selected] {
  background: var(--tab-accent, #34d399) !important;
  color: #ffffff !important;
}
.mantine-Month-day[data-in-range] {
  background: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 82%
  ) !important;
  color: inherit !important;
}
.mantine-Month-day[data-first-in-range],
.mantine-Month-day[data-last-in-range] {
  background: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 70%
  ) !important;
  color: #0f172a !important;
}
[data-mode="dark"] .mantine-Month-day[data-first-in-range],
[data-mode="dark"] .mantine-Month-day[data-last-in-range] {
  color: #ffffff !important;
}
.mantine-Month-day[data-first-in-range] {
  border-top-left-radius: 10px !important;
  border-bottom-left-radius: 10px !important;
}
.mantine-Month-day[data-last-in-range] {
  border-top-right-radius: 10px !important;
  border-bottom-right-radius: 10px !important;
}

/* Hover in calendar should not force dark bg; keep subtle */
.mantine-Month-day:hover {
  background: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 92%
  ) !important;
}

/* AntD DatePicker (fallback theming to match tokens) */
.ant-picker-panel {
  background: var(--surface-bg) !important;
  color: var(--panel-text) !important;
  border-color: var(--surface-border) !important;
}
.ant-picker-cell-in-view.ant-picker-cell-disabled .ant-picker-cell-inner,
.ant-picker-cell:not(.ant-picker-cell-in-view) .ant-picker-cell-inner {
  color: #94a3b8 !important; /* gray for out-of-month */
}
.ant-picker-cell-in-view.ant-picker-cell-week-end .ant-picker-cell-inner {
  color: #dc2626 !important; /* weekend red */
}
[data-mode="dark"]
  .ant-picker-cell-in-view:not(.ant-picker-cell-disabled):not(
    .ant-picker-cell-selected
  ):not(.ant-picker-cell-range-start):not(.ant-picker-cell-range-end):not(
    .ant-picker-cell-in-range
  )
  .ant-picker-cell-inner {
  color: #ffffff !important; /* weekdays on dark */
}
:not([data-mode="dark"])
  .ant-picker-cell-in-view:not(.ant-picker-cell-disabled):not(
    .ant-picker-cell-selected
  ):not(.ant-picker-cell-range-start):not(.ant-picker-cell-range-end):not(
    .ant-picker-cell-in-range
  )
  .ant-picker-cell-inner {
  color: #0f172a !important; /* weekdays on light */
}
.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,
.ant-picker-cell-in-view.ant-picker-cell-range-start .ant-picker-cell-inner,
.ant-picker-cell-in-view.ant-picker-cell-range-end .ant-picker-cell-inner {
  background: var(--tab-accent, #34d399) !important;
  color: #ffffff !important;
}
.ant-picker-cell-in-view.ant-picker-cell-in-range .ant-picker-cell-inner {
  background: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 82%
  ) !important;
}
/* Dark variant for soft-sage (uses data-mode="dark") */
[data-theme="soft-sage"][data-mode="dark"] {
  /* Deep dark variant with a navy tail */
  --gradient-bg: linear-gradient(135deg, #0c1713 0%, #0e1f18 50%, #0f1730 100%);
  --surface-bg: #0e1814; /* near-black with green hint */
  --surface-border: rgba(255, 255, 255, 0.14);
  --panel-text: #e6fff5; /* minty white */
  --glass-tint: rgba(10, 22, 18, 0.5);
  --glass-tint-2: rgba(12, 26, 21, 0.32);
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-highlight: rgba(255, 255, 255, 0.2);
  --glass-shadow: rgba(3, 12, 9, 0.42);

  /* Tabs (dark) */
  --tab-active-from: #134e4a; /* teal/emerald deep */
  --tab-active-to: #083c36;
  --tab-accent: #34d399;
  --tab-active-text: #e6fff5;
  --tab-inactive-text: #c8f6e6;
  --tab-inactive-hover-text: #ffffff;

  /* Buttons (dark) */
  --btn-bg: rgba(255, 255, 255, 0.08);
  --btn-bg-hover: rgba(255, 255, 255, 0.12);
  --btn-bg-active: rgba(255, 255, 255, 0.06);
  --btn-text: #e6fff5;
  --btn-border: rgba(255, 255, 255, 0.18);

  /* Logo surfaces equal to themed surface in dark */
  --logo-bg-weak: var(--surface-bg);
  --logo-bg: var(--surface-bg);
  --logo-bg-strong: var(--surface-bg);
  --logo-border: var(--surface-border);
}

/* Ensure save/cancel role buttons keep good contrast in dark mode */
[data-mode="dark"] .btn-save,
[data-theme="soft-sage"][data-mode="dark"] .btn-save {
  --btn-bg: linear-gradient(145deg, #14386b, #0b254f) !important;
  --btn-bg-hover: #0b2e58 !important;
  --btn-bg-active: #07203f !important;
  --btn-text: #e6f0ff !important;
  --btn-border: rgba(255, 255, 255, 0.06) !important;
}

[data-mode="dark"] .btn-cancel,
[data-theme="soft-sage"][data-mode="dark"] .btn-cancel {
  --btn-bg: linear-gradient(145deg, #7f1d1d, #5f0f0f) !important;
  --btn-bg-hover: #6f1414 !important;
  --btn-bg-active: #4f0b0b !important;
  --btn-text: #fff0f0 !important;
  --btn-border: rgba(255, 255, 255, 0.06) !important;
}

/* === React Day Picker theming (for DatePickerInput component) ========= */
/* Goals: Match the Mantine theming - weekends red, out-of-month gray, themed weekdays, range selection */

/* Basic layout for react-day-picker */
.rdp-root {
  width: 100%;
}
.rdp-month {
  width: 100%;
}
.rdp-month_caption {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}
.rdp-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  margin-bottom: 4px;
}
.rdp-weeks {
  display: grid;
  gap: 2px;
}
.rdp-week {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 2px;
}
.rdp-day {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Base day button styling - use theme variables */
.rdp-day_button {
  background-color: var(--surface-bg, #ffffff) !important;
  color: var(--panel-text, #0f172a) !important;
  border: none !important;
  border-radius: 0.5rem !important;
  font-weight: 500 !important;
  transition: background-color 0.15s ease, color 0.15s ease !important;
  cursor: pointer !important;
}

/* Light mode: current month weekdays black */
:not([data-mode="dark"]) .rdp-day_button:not(.rdp-day_outside) {
  color: #0f172a !important;
}

/* Dark mode: current month weekdays white */
[data-mode="dark"] .rdp-day_button:not(.rdp-day_outside) {
  color: #ffffff !important;
}

/* Weekends: red text (both light and dark) */
.rdp-table tbody tr > td:nth-child(1) .rdp-day_button:not(.rdp-day_outside),
.rdp-table tbody tr > td:nth-child(7) .rdp-day_button:not(.rdp-day_outside) {
  color: #dc2626 !important;
}

/* Out-of-month days: gray */
.rdp-day_outside .rdp-day_button {
  color: #94a3b8 !important; /* slate-400 */
}

/* Dark mode out-of-month: lighter gray */
[data-mode="dark"] .rdp-day_outside .rdp-day_button {
  color: #64748b !important; /* slate-500 */
}

/* Keep weekend red even for outside days */
.rdp-table tbody tr > td:nth-child(1) .rdp-day_outside .rdp-day_button,
.rdp-table tbody tr > td:nth-child(7) .rdp-day_outside .rdp-day_button {
  color: #dc2626 !important;
}

/* Selected day: theme accent background, white text */
.rdp-day_selected .rdp-day_button {
  background-color: var(--tab-accent, #34d399) !important;
  color: #ffffff !important;
}

/* Range selection: in-range with transparent accent */
.rdp-day_range_middle .rdp-day_button,
.rdp-day_range_start .rdp-day_button,
.rdp-day_range_end .rdp-day_button {
  background-color: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 82%
  ) !important;
  color: var(--panel-text, #0f172a) !important;
}

/* Dark mode range: white text */
[data-mode="dark"] .rdp-day_range_middle .rdp-day_button,
[data-mode="dark"] .rdp-day_range_start .rdp-day_button,
[data-mode="dark"] .rdp-day_range_end .rdp-day_button {
  color: #ffffff !important;
}

/* Range start/end: stronger accent */
.rdp-day_range_start .rdp-day_button,
.rdp-day_range_end .rdp-day_button {
  background-color: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 70%
  ) !important;
}

/* Clean toggle switch with green-blue theme */
.switch {
  font-size: 13px;
  position: relative;
  display: inline-block;
  width: 2.6em;
  height: 1.6em;
}

/* Hide default HTML checkbox */
.switch input {
  display: none;
}

/* The slider track */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  /* default (inactive) track: neutral gray */
  background: var(--switch-off, color-mix(in oklch, var(--panel-bg, #808080), gray 92%));
  transition: background 350ms cubic-bezier(0.24, 0.51, 0.32, 0.98), box-shadow 260ms ease;
  border-radius: 30px;
  box-shadow: inset 2px 2px 4px rgba(16, 185, 129, 0.3),
    inset -2px -2px 4px rgba(255,255,255,0.6);
}

/* The slider knob */
.slider:before {
  position: absolute;
  content: "";
  height: 1.1em;
  width: 1.1em;
  border-radius: 50%;
  left: 0.22em;
  bottom: 0.22em;
  background: linear-gradient(
    145deg,
    #ffffff 0%,
    #e0f2fe 50%,
    #dbeafe 100%
  );
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2),
    -1px -1px 3px rgba(255, 255, 255, 0.8);
  transition: 0.4s cubic-bezier(0.7, 0.34, 0.5, 1);
}

/* Checked state - slide and glow */
.switch input:checked + .slider {
  /* active track uses theme accent color */
  --accent: var(--tab-accent, var(--primary, #34d399));
  background: linear-gradient(135deg, color-mix(in oklch, var(--accent), black 6%), var(--accent));
  box-shadow: 0 0 14px color-mix(in srgb, var(--accent) 45%, transparent), inset 2px 2px 6px color-mix(in srgb, var(--accent) 15%, transparent);
}

.switch input:checked + .slider:before {
  transform: translateX(1em) scale(1.12);
  background: linear-gradient(145deg, #ffffff 0%, color-mix(in oklch, var(--accent, #34d399), white 70%) 100%);
  box-shadow: 2px 2px 6px color-mix(in srgb, var(--accent, #34d399) 22%, rgba(0,0,0,0.18)), -2px -2px 4px rgba(255,255,255,0.9), 0 0 8px color-mix(in srgb, var(--accent, #34d399) 30%, transparent);
  animation: bounce 0.36s ease;
}

/* Unchecked state animation */
.switch input:not(:checked) + .slider:before {
  /* unchecked knob: neutral white with subtle shadow */
  background: linear-gradient(145deg, #ffffff 0%, #f3f4f6 100%);
  box-shadow: 1px 1px 3px rgba(0,0,0,0.12), -1px -1px 2px rgba(255,255,255,0.9);
  animation: bounce-reverse 0.36s ease;
}

/* Bounce animations */
@keyframes bounce {
  0% {
    transform: translateX(0) scale(1);
  }
  50% {
    transform: translateX(1em) scale(0.95);
  }
  100% {
    transform: translateX(1em) scale(1.12);
  }
}

@keyframes bounce-reverse {
  0% {
    transform: translateX(1em) scale(1.12);
  }
  50% {
    transform: translateX(0.5em) scale(0.95);
  }
  100% {
    transform: translateX(0) scale(1);
  }
}
/* ---------------------------------------------------------------------------
   Neomorphic square button with circular inset control (from provided image)
----------------------------------------------------------------------------*/
.neo-square {
  --size: 56px;
  width: var(--size);
  height: var(--size);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  background: linear-gradient(180deg, #e9edf0, #d7dbe0);
  box-shadow: 6px 6px 18px rgba(11, 24, 50, 0.08),
    -6px -6px 18px rgba(255, 255, 255, 0.9) inset;
  border: 1px solid rgba(15, 23, 42, 0.06);
  position: relative;
  padding: 6px;
}
.neo-square:hover {
  transform: translateY(-2px);
}
.neo-square:active {
  transform: translateY(0);
}

.neo-circle {
  width: calc(var(--size) * 0.68);
  height: calc(var(--size) * 0.68);
  border-radius: 999px;
  display: inline-grid;
  place-items: center;
  background: linear-gradient(180deg, #f5f7f8, #dfe5e8);
  box-shadow: -6px -6px 12px rgba(255, 255, 255, 0.95) inset,
    8px 8px 18px rgba(11, 24, 50, 0.06);
  color: #6b7280;
  font-weight: 700;
  font-size: 20px;
  border: 1px solid rgba(15, 23, 42, 0.04);
}
.neo-circle svg {
  width: 18px;
  height: 18px;
  stroke-width: 1.2;
}

/* Dark mode variants for neo button */
[data-mode="dark"] .neo-square,
[data-theme="soft-sage"][data-mode="dark"] .neo-square {
  background: linear-gradient(180deg, #0f1720, #081018);
  box-shadow: 6px 6px 18px rgba(0, 0, 0, 0.6),
    -6px -6px 18px rgba(255, 255, 255, 0.03) inset;
  border: 1px solid rgba(255, 255, 255, 0.04);
}
[data-mode="dark"] .neo-circle,
[data-theme="soft-sage"][data-mode="dark"] .neo-circle {
  background: linear-gradient(180deg, #111827, #0b1220);
  box-shadow: -6px -6px 12px rgba(255, 255, 255, 0.03) inset,
    8px 8px 18px rgba(0, 0, 0, 0.6);
  color: #d1d5db;
}

/* Hover: subtle accent */
.rdp-day_button:hover {
  background-color: color-mix(
    in oklch,
    var(--tab-accent, #34d399),
    transparent 92%
  ) !important;
}

/* Today indicator: ring */
.rdp-day_today .rdp-day_button {
  box-shadow: 0 0 0 2px var(--tab-accent, #34d399) !important;
}

/* Disabled: muted */
.rdp-day_disabled .rdp-day_button {
  opacity: 0.3 !important;
  cursor: not-allowed !important;
}

/* ========================================
   FONT SIZE SYSTEM - Global Typography Scale
   ======================================== */

/* Font size is now set dynamically via JavaScript on :root element */
/* Default fallback */
:root {
  font-size: 16px;
}

/* Smooth transitions for all interactive elements */
button, a, input, textarea, select {
  transition: all 0.2s ease-in-out;
}

/* Enhanced hover effects with smooth transitions */
button:hover, a:hover {
  transform: translateY(-1px);
  transition: all 0.2s ease-in-out;
}

button:active, a:active {
  transform: translateY(0);
  transition: all 0.1s ease-in-out;
}

/* ========================================
   CUSTOM SLIDER STYLES
   ======================================== */

/* Range slider thumb */
.slider-thumb::-webkit-slider-thumb {
  appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--theme);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease-in-out;
  border: 3px solid white;
}

.slider-thumb::-webkit-slider-thumb:hover {
  transform: scale(1.15);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.slider-thumb::-webkit-slider-thumb:active {
  transform: scale(1.05);
}

.slider-thumb::-moz-range-thumb {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--theme);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease-in-out;
  border: 3px solid white;
}

.slider-thumb::-moz-range-thumb:hover {
  transform: scale(1.15);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.slider-thumb::-moz-range-thumb:active {
  transform: scale(1.05);
}

/* Track styling */
.slider-thumb::-webkit-slider-runnable-track {
  height: 12px;
  border-radius: 9999px;
  transition: all 0.2s ease-in-out;
  background: transparent;
}

.slider-thumb::-moz-range-track {
  height: 12px;
  border-radius: 9999px;
  transition: all 0.2s ease-in-out;
  background: transparent;
}

/* Dark mode track enhancement */
[data-mode="dark"] .slider-thumb {
  filter: brightness(1.2);
}

/* Focus state */
.slider-thumb:focus {
  outline: none;
}

.slider-thumb:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 4px rgba(var(--theme-rgb, 59, 130, 246), 0.2);
}

.slider-thumb:focus::-moz-range-thumb {
  box-shadow: 0 0 0 4px rgba(var(--theme-rgb, 59, 130, 246), 0.2);
}

/* ========================================
   ANIMATIONS
   ======================================== */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slideIn {
  animation: slideIn 0.3s ease-out;
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scaleIn {
  animation: scaleIn 0.2s ease-out;
}

/* Scale utilities for hover effects */
.hover\:scale-102:hover {
  transform: scale(1.02);
}